(function(){window.Cowbell.Common.buildZ80=function(J){var v,Ca,r,w,H,l,C,f,F,M,A,n,I,pa,Z,Da,B,m,Fa,la,Y,N,K,E,ia,c,da,$,h,ma,Ea,ja,ea,k,fa,na,qa,W,Ja,oa,aa,X,z,Ga,wa,ta,xa,ba,L,Ha,ra,ka,ya,sa,b,Ma,q,D,O,P,Q,R,ua,ga,Ka,d,za,S,T,U,V,ca,ha,Ia,Na,Wa,Xa,Oa,Pa,G,Ya,Aa,e,Qa,p,s,t,u,g,Ra,x,va,Sa,Ta,Ua,Va,y,Ba,La,Za;null==J&&(J={});Na=new ArrayBuffer(2);Wa=new Uint16Array(Na);Xa=new Uint8Array(Na);Wa[0]=256;Ya=1===Xa[0];Za={IX:8,IY:9};Ya?(e=0,g=1,p=2,s=3,t=4,u=5,x=6,y=7,Qa=8,Ra=9,Sa=16,Ta=17,Ua=18,Va=19,
va=20,Ba=21,La={A:0,F:1,B:2,C:3,D:4,E:5,H:6,L:7,IXH:16,IXL:17,IYH:18,IYL:19}):(g=0,e=1,s=2,p=3,u=4,t=5,y=6,x=7,Ra=8,Qa=9,Ta=16,Sa=17,Va=18,Ua=19,Ba=20,va=21,La={F:0,A:1,C:2,B:3,E:4,D:5,L:6,H:7,IXL:16,IXH:17,IYL:18,IYH:19});G=function(a,b){var d;null==b&&(b=!1);if(a.match(/^[AFBCDEHL]|I[XY][HL]$/))return d=La[a],{getter:"",v:"regs["+d+"]",trunc:"",setter:""};if("(HL)"===a)return{getter:"var val = READMEM(regPairs[3]);",v:"val",trunc:"& 0xff",setter:"WRITEMEM(regPairs[3], val);"};if("nn"===a)return{getter:"var val = READMEM(regPairs[12]); regPairs[12]++;",
v:"val",trunc:"& 0xff",setter:""};if(d=a.match(/^\((I[XY])\+nn\)$/))return d=Za[d[1]],d=(b?"":"var offset = READMEM(regPairs[12]);\nif (offset & 0x80) offset -= 0x100;\nregPairs[12]++;")+("var addr = (regPairs["+d+"] + offset) & 0xffff;\nvar val = READMEM(addr);"),{getter:d,v:"val",trunc:"& 0xff",setter:"WRITEMEM(addr, val);"};if("add"===a)return{getter:"",v:"add",trunc:"",setter:""};throw"Unknown param format: "+a;};v=function(a){a=G(a);return a.getter+"\n\nvar adctemp = regs["+e+"] + "+a.v+" + (regs["+
g+"] & 1);\nvar lookup = ( (regs["+e+"] & 0x88) >> 3 ) | ( ("+a.v+" & 0x88) >> 2 ) | ( (adctemp & 0x88) >> 1 );\nregs["+e+"] = adctemp;\nregs["+g+"] = ( adctemp & 0x100 ? 1 : 0 ) | halfcarryAddTable[lookup & 0x07] | overflowAddTable[lookup >> 4] | sz53Table[regs["+e+"]];"};Ca=function(a){return"var add16temp = regPairs[3] + regPairs["+a+"] + (regs["+g+"] & 1);\nvar lookup = (\n\t( (regPairs[3] & 0x8800) >> 11 ) |\n\t( (regPairs["+a+"] & 0x8800) >> 10 ) |\n\t( (add16temp & 0x8800) >>  9 )\n);\nregPairs[3] = add16temp;\nregs["+
g+"] = (\n\t(add16temp & 0x10000 ? 1 : 0) |\n\toverflowAddTable[lookup >> 4] |\n\t(regs["+x+"] & 168) |\n\thalfcarryAddTable[lookup & 0x07] |\n\t(regPairs[3] ? 0 : 64)\n);"};r=function(a){a=G(a);return a.getter+"\n\nvar addtemp = regs["+e+"] + "+a.v+";\nvar lookup = ( (regs["+e+"] & 0x88) >> 3 ) | ( ("+a.v+" & 0x88) >> 2 ) | ( (addtemp & 0x88) >> 1 );\nregs["+e+"] = addtemp;\nregs["+g+"] = ( addtemp & 0x100 ? 1 : 0 ) | halfcarryAddTable[lookup & 0x07] | overflowAddTable[lookup >> 4] | sz53Table[regs["+
e+"]];"};w=function(a,b){return"var add16temp = regPairs["+a+"] + regPairs["+b+"];\nvar lookup = ( (regPairs["+a+"] & 0x0800) >> 11 ) | ( (regPairs["+b+"] & 0x0800) >> 10 ) | ( (add16temp & 0x0800) >>  9 );\nregPairs["+a+"] = add16temp;\nregs["+g+"] = ( regs["+g+"] & ( 196 ) ) | ( add16temp & 0x10000 ? 1 : 0 ) | ( ( add16temp >> 8 ) & ( 40 ) ) | halfcarryAddTable[lookup];"};H=function(a){a=G(a);return a.getter+"\n\nregs["+e+"] &= "+a.v+";\nregs["+g+"] = 16 | sz53pTable[regs["+e+"]];"};f=function(a,
b){return"var addr = (regPairs["+b+"] + offset) & 0xffff;\nvar value = READMEM(addr);\nregs["+g+"] = ( regs["+g+"] & 1 ) | 16 | ( ( addr >> 8 ) & 40 );\nif ( !(value & "+(1<<a)+") ) regs["+g+"] |= 68;\n"+(7===a?"if (value & 0x80) regs["+g+"] |= 128;":"")};C=function(a){return"var addr = regPairs[3];\nvar value = READMEM(addr);\nregs["+g+"] = ( regs["+g+"] & 1 ) | 16 | ( value & 40 );\nif( !(value & "+(1<<a)+") ) regs["+g+"] |= 68;\n"+(7===a?"if (value & 0x80) regs["+g+"] |= 128;":"")};l=function(a,
b){return"regs["+g+"] = ( regs["+g+"] & 1 ) | 16 | ( regs["+b+"] & 40 );\nif( !(regs["+b+"] & "+(1<<a)+") ) regs["+g+"] |= 68;\n"+(7===a?"if (regs["+b+"] & 0x80) regs["+g+"] |= 128;":"")};F=function(a,b){var d;d="regs["+g+"] & "+a;b||(d="!("+d+")");return"if ("+d+") {\n\tvar l = READMEM(regPairs[12]); regPairs[12]++;\n\tvar h = READMEM(regPairs[12]);\n\tregPairs[12]++;\n\tregPairs[11]--; WRITEMEM(regPairs[11], regPairs[12] >> 8);\n\tregPairs[11]--; WRITEMEM(regPairs[11], regPairs[12] & 0xff);\n\tregPairs[12] = (h<<8) | l;\n} else {\n\tregPairs[12]++;\n\tregPairs[12]++;\n}"};
n=function(a){a=G(a);return a.getter+"\n\nvar cptemp = regs["+e+"] - "+a.v+";\nvar lookup = ( (regs["+e+"] & 0x88) >> 3 ) | ( ("+a.v+" & 0x88) >> 2 ) | ( (cptemp & 0x88) >> 1 );\nregs["+g+"] = ( cptemp & 0x100 ? 1 : ( cptemp ? 0 : 64 ) ) | 2 | halfcarrySubTable[lookup & 0x07] | overflowSubTable[lookup >> 4] | ( "+a.v+" & 40 ) | ( cptemp & 128 );"};A=function(a){return"var value = READMEM(regPairs[3]);\nvar bytetemp = (regs["+e+"] - value) & 0xff;\nvar lookup = ((regs["+e+"] & 0x08) >> 3) | ((value & 0x08) >> 2) | ((bytetemp & 0x08) >> 1);\nvar originalHL = regPairs[3];\nregPairs[3]"+
a+"; regPairs[1]--;\nregs["+g+"] = (regs["+g+"] & 1) | (regPairs[1] ? 6 : 2) | halfcarrySubTable[lookup] | (bytetemp ? 0 : 64) | (bytetemp & 128);\nif (regs["+g+"] & 16) bytetemp--;\nregs["+g+"] |= (bytetemp & 8) | ( (bytetemp & 0x02) ? 32 : 0 );"};M=function(a){return A(a)+"\nif ((regs["+g+"] & 68) == 4) {\n\tregPairs[12] -= 2;\n}"};I=function(a){a=G(a);return a.getter+"\n\nregs["+g+"] = (regs["+g+"] & 1 ) | ( "+a.v+" & 0x0f ? 0 : 16 ) | 2;\n"+a.v+" = ("+a.v+" - 1) "+a.trunc+";\n\n"+a.setter+"\nregs["+
g+"] |= ("+a.v+" == 0x7f ? 4 : 0) | sz53Table["+a.v+"];"};pa=function(a){return"regPairs["+a+"]--;"};Da=function(a){return"var l = READMEM(regPairs[11]);\nvar spPlus1 = (regPairs[11] + 1) & 0xffff;\nvar h = READMEM(spPlus1);\nWRITEMEM(spPlus1, regPairs["+a+"] >> 8);\nWRITEMEM(regPairs[11], regPairs["+a+"] & 0xff);\nregPairs["+a+"] = (h<<8) | l;"};Z=function(a,b){return"var temp = regPairs["+a+"];\nregPairs["+a+"] = regPairs["+b+"];\nregPairs["+b+"] = temp;"};B=function(a){return"im = "+a+";"};N=function(a){return"var port = regPairs[1];\nregs["+
a+"] = ioBus.read(port);\nregs["+g+"] = (regs["+g+"] & 1) | sz53pTable[regs["+a+"]];"};m=function(a){a=G(a);return a.getter+"\n\nregs["+g+"] = (regs["+g+"] & 1) | ("+a.v+" & 0x0f ? 0 : 16) | 2;\n"+a.v+" = ("+a.v+" + 1) "+a.trunc+";\n\n"+a.setter+"\nregs["+g+"] = (regs["+g+"] & 1) | ( "+a.v+" == 0x80 ? 4 : 0 ) | ( "+a.v+" & 0x0f ? 0 : 16 ) | sz53Table["+a.v+"];"};Fa=function(a){return"regPairs["+a+"]++;"};Y=function(a){return"var initemp = ioBus.read(regPairs[1]);\nWRITEMEM(regPairs[3], initemp);\nregs["+
p+"]--;\nvar originalHL = regPairs[3];\nregPairs[3]"+a+a+";\nvar initemp2 = (initemp + regs["+s+"] "+a+" 1) & 0xff;\n\nregs["+g+"] = (initemp & 0x80 ? 2 : 0) | ((initemp2 < initemp) ? 17 : 0 ) | ( parityTable[ (initemp2 & 0x07) ^ regs["+p+"] ] ? 4 : 0 ) | sz53Table[regs["+p+"]];"};la=function(a){return Y(a)+"\nif (regs["+p+"]) {\n\tregPairs[12] -= 2;\n}"};K=function(a,b){var d;d="regs["+g+"] & "+a;b||(d="!("+d+")");return"if ("+d+") {\n\tvar l = READMEM(regPairs[12]); regPairs[12]++;\n\tvar h = READMEM(regPairs[12]); regPairs[12]++;\n\tregPairs[12] = (h<<8) | l;\n} else {\n\tregPairs[12]++;\n\tregPairs[12]++;\n}"};
E=function(a){return"regPairs[12] = regPairs["+a+"];"};ia=function(a,b){var d;d="regs["+g+"] & "+a;b||(d="!("+d+")");return"if ("+d+") {\n\tvar offset = READMEM(regPairs[12]);\n\tregPairs[12]++;\n\tregPairs[12] += (offset & 0x80 ? offset - 0x100 : offset);\n} else {\n\tregPairs[12]++; /* skip past offset byte */\n}"};qa=function(a){return"var l = READMEM(regPairs[12]); regPairs[12]++;\nvar h = READMEM(regPairs[12]); regPairs[12]++;\nvar addr = (h<<8) | l;\nWRITEMEM(addr, regPairs["+a+"] & 0xff);\naddr = (addr + 1) & 0xffff;\nWRITEMEM(addr, regPairs["+
a+"] >> 8);"};W=function(a,b){return"WRITEMEM(regPairs["+a+"], regs["+b+"]);"};Ja=function(a){return"var offset = READMEM(regPairs[12]); regPairs[12]++;\nif (offset & 0x80) offset -= 0x100;\nvar addr = (regPairs["+a+"] + offset) & 0xffff;\n\nvar val = READMEM(regPairs[12]);\nregPairs[12]++;\nWRITEMEM(addr, val);"};oa=function(a,b){return"var offset = READMEM(regPairs[12]);\nregPairs[12]++;\nif (offset & 0x80) offset -= 0x100;\nvar addr = (regPairs["+a+"] + offset) & 0xffff;\n\nWRITEMEM(addr, regs["+
b+"]);"};fa=function(a,b){return"regs["+a+"] = READMEM(regPairs["+b+"]);"};na=function(a,b){return"var offset = READMEM(regPairs[12]);\nregPairs[12]++;\nif (offset & 0x80) offset -= 0x100;\nvar addr = (regPairs["+b+"] + offset) & 0xffff;\n\nregs["+a+"] = READMEM(addr);"};ea=function(a){return"regs["+a+"] = READMEM(regPairs[12]); regPairs[12]++;"};k=function(a,b){var d;return a===va||b===va||a===Ba||b===Ba?(d="regs["+a+"] = regs["+b+"];",a===e&&(d+="regs["+g+"] = (regs["+g+"] & 1) | sz53Table[regs["+
e+"]] | ( iff2 ? 4 : 0 );"),d):"regs["+a+"] = regs["+b+"];"};ja=function(a,b){return"var l = READMEM(regPairs[12]); regPairs[12]++;\nvar h = READMEM(regPairs[12]); regPairs[12]++;\nvar addr = (h<<8) | l;\nl = READMEM(addr);\naddr = (addr + 1) & 0xffff;\nh = READMEM(addr);\nregPairs["+a+"] = (h<<8) | l;"};ma=function(a){return"var l = READMEM(regPairs[12]); regPairs[12]++;\nvar h = READMEM(regPairs[12]); regPairs[12]++;\nregPairs["+a+"] = (h<<8) | l;"};Ea=function(a,b){return"regPairs["+a+"] = regPairs["+
b+"];"};c=function(a,b,d,c){var e;e=La[a];return"var addr = (regPairs["+c+"] + offset) & 0xffff;\nregs["+e+"] = READMEM(addr);\n"+b(d,a)+"\nWRITEMEM(addr, regs["+e+"]);"};$=function(a){return"var bytetemp = READMEM(regPairs[3]);\nregPairs[1]--;\nWRITEMEM(regPairs[2],bytetemp);\nvar originalDE = regPairs[2];\nregPairs[2]"+a+"; regPairs[3]"+a+";\nbytetemp = (bytetemp + regs["+e+"]) & 0xff;\nregs["+g+"] = (regs["+g+"] & 193) | (regPairs[1] ? 4 : 0) | (bytetemp & 8) | ((bytetemp & 0x02) ? 32 : 0);"};
da=function(a){return $(a)+"\nif (regPairs[1]) {\n\tregPairs[12]-=2;\n}"};h=function(a,b,d){var c;c=La[a];return"var addr = (regPairs["+d+"] + offset) & 0xffff;\nregs["+c+"] = READMEM(addr);\n"+b(a)+"\nWRITEMEM(addr, regs["+c+"]);"};aa=function(){return"var val = regs["+e+"];\nvar subtemp = -val;\nvar lookup = ( (val & 0x88) >> 2 ) | ( (subtemp & 0x88) >> 1 );\nregs["+e+"] = subtemp;\nregs["+g+"] = ( subtemp & 0x100 ? 1 : 0 ) | 2 | halfcarrySubTable[lookup & 0x07] | overflowSubTable[lookup >> 4] | sz53Table[regs["+
e+"]];"};L=function(a){a=G(a);return a.getter+"\n\nregs["+e+"] |= "+a.v+";\nregs["+g+"] = sz53pTable[regs["+e+"]];"};ka=function(a){return"ioBus.write(regPairs[1], regs["+a+"]);"};ra=function(a){return"var outitemp = READMEM(regPairs[3]);\nregs["+p+"]--;\t/* This does happen first, despite what the specs say */\nioBus.write(regPairs[1], outitemp);\n\nregPairs[3]"+a+";\noutitemp2 = (outitemp + regs["+y+"]) & 0xff;\nregs["+g+"] = (outitemp & 0x80 ? 2 : 0) | ( (outitemp2 < outitemp) ? 17 : 0) | (parityTable[ (outitemp2 & 0x07) ^ regs["+
p+"] ] ? 4 : 0 ) | sz53Table[ regs["+p+"] ];"};Ha=function(a){return ra(a)+"\nif (regs["+p+"]) {\n\tregPairs[12]-=2;\n}"};ya=function(a){return"var l = READMEM(regPairs[11]); regPairs[11]++;\nvar h = READMEM(regPairs[11]); regPairs[11]++;\nregPairs["+a+"] = (h<<8) | l;"};sa=function(a){return"regPairs[11]--; WRITEMEM(regPairs[11], regPairs["+a+"] >> 8);\nregPairs[11]--; WRITEMEM(regPairs[11], regPairs["+a+"] & 0xff);"};b=function(a,b){var d;d=G(b,!0);return d.getter+"\n"+d.v+" &= "+(255^1<<a)+";\n"+
d.setter};Ma=function(){return"var l = READMEM(regPairs[11]); regPairs[11]++;\nvar h = READMEM(regPairs[11]); regPairs[11]++; \nregPairs[12] = (h<<8) | l;"};D=function(a,b){var d;d="regs["+g+"] & "+a;b||(d="!("+d+")");return"if ("+d+") {\n\tvar l = READMEM(regPairs[11]); regPairs[11]++;\n\tvar h = READMEM(regPairs[11]); regPairs[11]++;\n\tregPairs[12] = (h<<8) | l;\n}"};q=function(){return"iff1 = iff2;\n"+Ma()};O=function(a){a=G(a,!0);return a.getter+"\nvar rltemp = "+a.v+";\n"+a.v+" = ( ("+a.v+" << 1) | (regs["+
g+"] & 1) ) "+a.trunc+";\nregs["+g+"] = ( rltemp >> 7 ) | sz53pTable["+a.v+"];\n"+a.setter};P=function(a){a=G(a,!0);return a.getter+"\n"+a.v+" = ( ("+a.v+" << 1) | ("+a.v+" >> 7) ) "+a.trunc+";\nregs["+g+"] = ("+a.v+" & 1) | sz53pTable["+a.v+"];\n"+a.setter};Q=function(a){a=G(a,!0);return a.getter+"\nvar rrtemp = "+a.v+";\n"+a.v+" = ( ("+a.v+" >> 1) | ( regs["+g+"] << 7 ) ) "+a.trunc+";\nregs["+g+"] = (rrtemp & 1) | sz53pTable["+a.v+"];\n"+a.setter};R=function(a){a=G(a,!0);return a.getter+"\nregs["+
g+"] = "+a.v+" & 1;\n"+a.v+" = ( ("+a.v+" >> 1) | ("+a.v+" << 7) ) "+a.trunc+";\nregs["+g+"] |= sz53pTable["+a.v+"];\n"+a.setter};ua=function(a){return"regPairs[11]--; WRITEMEM(regPairs[11], regPairs[12] >> 8);\nregPairs[11]--; WRITEMEM(regPairs[11], regPairs[12] & 0xff);\nregPairs[12] = "+a+";"};ga=function(a){a=G(a);return a.getter+"\nvar sbctemp = regs["+e+"] - "+a.v+" - (regs["+g+"] & 1);\nvar lookup = ( (regs["+e+"] & 0x88) >> 3 ) | ( ("+a.v+" & 0x88) >> 2 ) | ( (sbctemp & 0x88) >> 1 );\nregs["+
e+"] = sbctemp;\nregs["+g+"] = ( sbctemp & 0x100 ? 1 : 0 ) | 2 | halfcarrySubTable[lookup & 0x07] | overflowSubTable[lookup >> 4] | sz53Table[regs["+e+"]];"};Ka=function(a){return"var sub16temp = regPairs[3] - regPairs["+a+"] - (regs["+g+"] & 1);\nvar lookup = ( (regPairs[3] & 0x8800) >> 11 ) | ( (regPairs["+a+"] & 0x8800) >> 10 ) | ( (sub16temp & 0x8800) >>  9 );\nregPairs[3] = sub16temp;\nregs["+g+"] = ( sub16temp & 0x10000 ? 1 : 0 ) | 2 | overflowSubTable[lookup >> 4] | (regs["+x+"] & 168) | halfcarrySubTable[lookup&0x07] | (regPairs[3] ? 0 : 64);"};
d=function(a,b){var d,c;d=1<<a;c=G(b,!0);return c.getter+"\n"+c.v+" |= "+d+";\n"+c.setter};za=function(a){return"opcodePrefix = '"+a+"';\ninterruptible = false;"};S=function(a){a=G(a,!0);return a.getter+"\nregs["+g+"] = "+a.v+" >> 7;\n"+a.v+" = ("+a.v+" << 1) "+a.trunc+";\nregs["+g+"] |= sz53pTable["+a.v+"];\n"+a.setter};T=function(a){a=G(a,!0);return a.getter+"\nregs["+g+"] =  "+a.v+" >> 7;\n"+a.v+" = ((("+a.v+") << 1) "+a.trunc+") | 0x01;\nregs["+g+"] |= sz53pTable["+a.v+"];\n"+a.setter};U=function(a){a=
G(a,!0);return a.getter+"\nregs["+g+"] = "+a.v+" & 1;\n"+a.v+" = ( ("+a.v+" & 0x80) | ("+a.v+" >> 1) ) "+a.trunc+";\nregs["+g+"] |= sz53pTable["+a.v+"];\n"+a.setter};V=function(a){a=G(a,!0);return a.getter+"\nregs["+g+"] =  "+a.v+" & 1;\n"+a.v+" >>= 1;\nregs["+g+"] |= sz53pTable["+a.v+"];\n"+a.setter};ca=function(a){a=G(a);return a.getter+"\nvar subtemp = regs["+e+"] - "+a.v+";\nvar lookup = ( (regs["+e+"] & 0x88) >> 3 ) | ( ("+a.v+" & 0x88) >> 2 ) | ( (subtemp & 0x88) >> 1 );\nregs["+e+"] = subtemp;\nregs["+
g+"] = ( subtemp & 0x100 ? 1 : 0 ) | 2 | halfcarrySubTable[lookup & 0x07] | overflowSubTable[lookup >> 4] | sz53Table[regs["+e+"]];"};ha=function(a){a=G(a);return a.getter+"\nregs["+e+"] ^= "+a.v+";\nregs["+g+"] = sz53pTable[regs["+e+"]];"};Aa=function(a,b,d){var c,e,g,k,h,f,sa,l,m;null==b&&(b={});null==d&&(d=[]);g=[];for(k=h=0;256>h;k=++h)l=a[k],null==l&&(l=b[k]),null!=l&&(sa=function(){var a,b,g,h;h=[];a=0;for(b=d.length;a<b;a++)g=d[a],e=g[0],f=g[1],c=g[2],f===k&&h.push([e,c]);return h}(),m=function(){var a,
b,d,g;g=[];a=0;for(b=sa.length;a<b;a++)d=sa[a],e=d[0],c=d[1],g.push("if (regPairs[12] == "+(e+1&65535)+" && !("+c+")) break;");return g}(),g.push("case "+k+":\n\t"+m.join("\n")+"\n\t"+l+"\n\tbreak;"));return"switch (opcode) {\n\t"+g.join("")+'\n\tdefault:\n\t\tvar addr = regPairs[12] - 1;\n\t\tthrow("Unimplemented opcode " + opcode + " in page '+a[256]+' - PC = " + addr);\n}'};z={"0":P("B"),1:P("C"),2:P("D"),3:P("E"),4:P("H"),5:P("L"),6:P("(HL)"),7:P("A"),8:R("B"),9:R("C"),10:R("D"),11:R("E"),12:R("H"),
13:R("L"),14:R("(HL)"),15:R("A"),16:O("B"),17:O("C"),18:O("D"),19:O("E"),20:O("H"),21:O("L"),22:O("(HL)"),23:O("A"),24:Q("B"),25:Q("C"),26:Q("D"),27:Q("E"),28:Q("H"),29:Q("L"),30:Q("(HL)"),31:Q("A"),32:S("B"),33:S("C"),34:S("D"),35:S("E"),36:S("H"),37:S("L"),38:S("(HL)"),39:S("A"),40:U("B"),41:U("C"),42:U("D"),43:U("E"),44:U("H"),45:U("L"),46:U("(HL)"),47:U("A"),48:T("B"),49:T("C"),50:T("D"),51:T("E"),52:T("H"),53:T("L"),54:T("(HL)"),55:T("A"),56:V("B"),57:V("C"),58:V("D"),59:V("E"),60:V("H"),61:V("L"),
62:V("(HL)"),63:V("A"),64:l(0,p),65:l(0,s),66:l(0,t),67:l(0,u),68:l(0,x),69:l(0,y),70:C(0),71:l(0,e),72:l(1,p),73:l(1,s),74:l(1,t),75:l(1,u),76:l(1,x),77:l(1,y),78:C(1),79:l(1,e),80:l(2,p),81:l(2,s),82:l(2,t),83:l(2,u),84:l(2,x),85:l(2,y),86:C(2),87:l(2,e),88:l(3,p),89:l(3,s),90:l(3,t),91:l(3,u),92:l(3,x),93:l(3,y),94:C(3),95:l(3,e),96:l(4,p),97:l(4,s),98:l(4,t),99:l(4,u),100:l(4,x),101:l(4,y),102:C(4),103:l(4,e),104:l(5,p),105:l(5,s),106:l(5,t),107:l(5,u),108:l(5,x),109:l(5,y),110:C(5),111:l(5,e),
112:l(6,p),113:l(6,s),114:l(6,t),115:l(6,u),116:l(6,x),117:l(6,y),118:C(6),119:l(6,e),120:l(7,p),121:l(7,s),122:l(7,t),123:l(7,u),124:l(7,x),125:l(7,y),126:C(7),127:l(7,e),128:b(0,"B"),129:b(0,"C"),130:b(0,"D"),131:b(0,"E"),132:b(0,"H"),133:b(0,"L"),134:b(0,"(HL)"),135:b(0,"A"),136:b(1,"B"),137:b(1,"C"),138:b(1,"D"),139:b(1,"E"),140:b(1,"H"),141:b(1,"L"),142:b(1,"(HL)"),143:b(1,"A"),144:b(2,"B"),145:b(2,"C"),146:b(2,"D"),147:b(2,"E"),148:b(2,"H"),149:b(2,"L"),150:b(2,"(HL)"),151:b(2,"A"),152:b(3,
"B"),153:b(3,"C"),154:b(3,"D"),155:b(3,"E"),156:b(3,"H"),157:b(3,"L"),158:b(3,"(HL)"),159:b(3,"A"),160:b(4,"B"),161:b(4,"C"),162:b(4,"D"),163:b(4,"E"),164:b(4,"H"),165:b(4,"L"),166:b(4,"(HL)"),167:b(4,"A"),168:b(5,"B"),169:b(5,"C"),170:b(5,"D"),171:b(5,"E"),172:b(5,"H"),173:b(5,"L"),174:b(5,"(HL)"),175:b(5,"A"),176:b(6,"B"),177:b(6,"C"),178:b(6,"D"),179:b(6,"E"),180:b(6,"H"),181:b(6,"L"),182:b(6,"(HL)"),183:b(6,"A"),184:b(7,"B"),185:b(7,"C"),186:b(7,"D"),187:b(7,"E"),188:b(7,"H"),189:b(7,"L"),190:b(7,
"(HL)"),191:b(7,"A"),192:d(0,"B"),193:d(0,"C"),194:d(0,"D"),195:d(0,"E"),196:d(0,"H"),197:d(0,"L"),198:d(0,"(HL)"),199:d(0,"A"),200:d(1,"B"),201:d(1,"C"),202:d(1,"D"),203:d(1,"E"),204:d(1,"H"),205:d(1,"L"),206:d(1,"(HL)"),207:d(1,"A"),208:d(2,"B"),209:d(2,"C"),210:d(2,"D"),211:d(2,"E"),212:d(2,"H"),213:d(2,"L"),214:d(2,"(HL)"),215:d(2,"A"),216:d(3,"B"),217:d(3,"C"),218:d(3,"D"),219:d(3,"E"),220:d(3,"H"),221:d(3,"L"),222:d(3,"(HL)"),223:d(3,"A"),224:d(4,"B"),225:d(4,"C"),226:d(4,"D"),227:d(4,"E"),
228:d(4,"H"),229:d(4,"L"),230:d(4,"(HL)"),231:d(4,"A"),232:d(5,"B"),233:d(5,"C"),234:d(5,"D"),235:d(5,"E"),236:d(5,"H"),237:d(5,"L"),238:d(5,"(HL)"),239:d(5,"A"),240:d(6,"B"),241:d(6,"C"),242:d(6,"D"),243:d(6,"E"),244:d(6,"H"),245:d(6,"L"),246:d(6,"(HL)"),247:d(6,"A"),248:d(7,"B"),249:d(7,"C"),250:d(7,"D"),251:d(7,"E"),252:d(7,"H"),253:d(7,"L"),254:d(7,"(HL)"),255:d(7,"A"),256:"cb"};Pa=function(a){var e;"DDCB"===a?(a=8,e="IX"):(a=9,e="IY");return{"0":h("B",P,a),1:h("C",P,a),2:h("D",P,a),3:h("E",P,
a),4:h("H",P,a),5:h("L",P,a),6:P("("+e+"+nn)"),7:h("A",P,a),8:h("B",R,a),9:h("C",R,a),10:h("D",R,a),11:h("E",R,a),12:h("H",R,a),13:h("L",R,a),14:R("("+e+"+nn)"),15:h("A",R,a),16:h("B",O,a),17:h("C",O,a),18:h("D",O,a),19:h("E",O,a),20:h("H",O,a),21:h("L",O,a),22:O("("+e+"+nn)"),23:h("A",O,a),24:h("B",Q,a),25:h("C",Q,a),26:h("D",Q,a),27:h("E",Q,a),28:h("H",Q,a),29:h("L",Q,a),30:Q("("+e+"+nn)"),31:h("A",Q,a),32:h("B",S,a),33:h("C",S,a),34:h("D",S,a),35:h("E",S,a),36:h("H",S,a),37:h("L",S,a),38:S("("+
e+"+nn)"),39:h("A",S,a),40:h("B",U,a),41:h("C",U,a),42:h("D",U,a),43:h("E",U,a),44:h("H",U,a),45:h("L",U,a),46:U("("+e+"+nn)"),47:h("A",U,a),48:h("B",T,a),49:h("C",T,a),50:h("D",T,a),51:h("E",T,a),52:h("H",T,a),53:h("L",T,a),54:T("("+e+"+nn)"),55:h("A",T,a),56:h("B",V,a),57:h("C",V,a),58:h("D",V,a),59:h("E",V,a),60:h("H",V,a),61:h("L",V,a),62:V("("+e+"+nn)"),63:h("A",V,a),64:f(0,a),65:f(0,a),66:f(0,a),67:f(0,a),68:f(0,a),69:f(0,a),70:f(0,a),71:f(0,a),72:f(1,a),73:f(1,a),74:f(1,a),75:f(1,a),76:f(1,
a),77:f(1,a),78:f(1,a),79:f(1,a),80:f(2,a),81:f(2,a),82:f(2,a),83:f(2,a),84:f(2,a),85:f(2,a),86:f(2,a),87:f(2,a),88:f(3,a),89:f(3,a),90:f(3,a),91:f(3,a),92:f(3,a),93:f(3,a),94:f(3,a),95:f(3,a),96:f(4,a),97:f(4,a),98:f(4,a),99:f(4,a),100:f(4,a),101:f(4,a),102:f(4,a),103:f(4,a),104:f(5,a),105:f(5,a),106:f(5,a),107:f(5,a),108:f(5,a),109:f(5,a),110:f(5,a),111:f(5,a),112:f(6,a),113:f(6,a),114:f(6,a),115:f(6,a),116:f(6,a),117:f(6,a),118:f(6,a),119:f(6,a),120:f(7,a),121:f(7,a),122:f(7,a),123:f(7,a),124:f(7,
a),125:f(7,a),126:f(7,a),127:f(7,a),128:c("B",b,0,a),129:c("C",b,0,a),130:c("D",b,0,a),131:c("E",b,0,a),132:c("H",b,0,a),133:c("L",b,0,a),134:b(0,"("+e+"+nn)"),135:c("A",b,0,a),136:c("B",b,1,a),137:c("C",b,1,a),138:c("D",b,1,a),139:c("E",b,1,a),140:c("H",b,1,a),141:c("L",b,1,a),142:b(1,"("+e+"+nn)"),143:c("A",b,1,a),144:c("B",b,2,a),145:c("C",b,2,a),146:c("D",b,2,a),147:c("E",b,2,a),148:c("H",b,2,a),149:c("L",b,2,a),150:b(2,"("+e+"+nn)"),151:c("A",b,2,a),152:c("B",b,3,a),153:c("C",b,3,a),154:c("D",
b,3,a),155:c("E",b,3,a),156:c("H",b,3,a),157:c("L",b,3,a),158:b(3,"("+e+"+nn)"),159:c("A",b,3,a),160:c("B",b,4,a),161:c("C",b,4,a),162:c("D",b,4,a),163:c("E",b,4,a),164:c("H",b,4,a),165:c("L",b,4,a),166:b(4,"("+e+"+nn)"),167:c("A",b,4,a),168:c("B",b,5,a),169:c("C",b,5,a),170:c("D",b,5,a),171:c("E",b,5,a),172:c("H",b,5,a),173:c("L",b,5,a),174:b(5,"("+e+"+nn)"),175:c("A",b,5,a),176:c("B",b,6,a),177:c("C",b,6,a),178:c("D",b,6,a),179:c("E",b,6,a),180:c("H",b,6,a),181:c("L",b,6,a),182:b(6,"("+e+"+nn)"),
183:c("A",b,6,a),184:c("B",b,7,a),185:c("C",b,7,a),186:c("D",b,7,a),187:c("E",b,7,a),188:c("H",b,7,a),189:c("L",b,7,a),190:b(7,"("+e+"+nn)"),191:c("A",b,7,a),192:c("B",d,0,a),193:c("C",d,0,a),194:c("D",d,0,a),195:c("E",d,0,a),196:c("H",d,0,a),197:c("L",d,0,a),198:d(0,"("+e+"+nn)"),199:c("A",d,0,a),200:c("B",d,1,a),201:c("C",d,1,a),202:c("D",d,1,a),203:c("E",d,1,a),204:c("H",d,1,a),205:c("L",d,1,a),206:d(1,"("+e+"+nn)"),207:c("A",d,1,a),208:c("B",d,2,a),209:c("C",d,2,a),210:c("D",d,2,a),211:c("E",
d,2,a),212:c("H",d,2,a),213:c("L",d,2,a),214:d(2,"("+e+"+nn)"),215:c("A",d,2,a),216:c("B",d,3,a),217:c("C",d,3,a),218:c("D",d,3,a),219:c("E",d,3,a),220:c("H",d,3,a),221:c("L",d,3,a),222:d(3,"("+e+"+nn)"),223:c("A",d,3,a),224:c("B",d,4,a),225:c("C",d,4,a),226:c("D",d,4,a),227:c("E",d,4,a),228:c("H",d,4,a),229:c("L",d,4,a),230:d(4,"("+e+"+nn)"),231:c("A",d,4,a),232:c("B",d,5,a),233:c("C",d,5,a),234:c("D",d,5,a),235:c("E",d,5,a),236:c("H",d,5,a),237:c("L",d,5,a),238:d(5,"("+e+"+nn)"),239:c("A",d,5,a),
240:c("B",d,6,a),241:c("C",d,6,a),242:c("D",d,6,a),243:c("E",d,6,a),244:c("H",d,6,a),245:c("L",d,6,a),246:d(6,"("+e+"+nn)"),247:c("A",d,6,a),248:c("B",d,7,a),249:c("C",d,7,a),250:c("D",d,7,a),251:c("E",d,7,a),252:c("H",d,7,a),253:c("L",d,7,a),254:d(7,"("+e+"+nn)"),255:c("A",d,7,a),256:"ddcb"}};wa=Pa("DDCB");ba=Pa("FDCB");Oa=function(a){var b,d,c,g,h,f;"DD"===a?(h=8,b=Sa,c=Ta,f="IX",d="IXH",g="IXL"):(h=9,b=Ua,c=Va,f="IY",d="IYH",g="IYL");return{9:w(h,1),25:w(h,2),33:ma(h),34:qa(h),35:Fa(h),36:m(d),
37:I(d),38:ea(b),41:w(h,h),42:ja(h),43:pa(h),44:m(g),45:I(g),46:ea(c),52:m("("+f+"+nn)"),53:I("("+f+"+nn)"),54:Ja(h),57:w(h,11),68:k(p,b),69:k(p,c),70:na(p,h),76:k(s,b),77:k(s,c),78:na(s,h),84:k(t,b),85:k(t,c),86:na(t,h),92:k(u,b),93:k(u,c),94:na(u,h),96:k(b,p),97:k(b,s),98:k(b,t),99:k(b,u),100:k(b,b),101:k(b,c),102:na(x,h),103:k(b,e),104:k(c,p),105:k(c,s),106:k(c,t),107:k(c,u),108:k(c,b),109:k(c,c),110:na(y,h),111:k(c,e),112:oa(h,p),113:oa(h,s),114:oa(h,t),115:oa(h,u),116:oa(h,x),117:oa(h,y),119:oa(h,
e),124:k(e,b),125:k(e,c),126:na(e,h),132:r(d),133:r(g),134:r("("+f+"+nn)"),140:v(d),141:v(g),142:v("("+f+"+nn)"),148:ca(d),149:ca(g),150:ca("("+f+"+nn)"),156:ga(d),157:ga(g),158:ga("("+f+"+nn)"),164:H(d),165:H(g),166:H("("+f+"+nn)"),172:ha(d),173:ha(g),174:ha("("+f+"+nn)"),180:L(d),181:L(g),182:L("("+f+"+nn)"),188:n(d),189:n(g),190:n("("+f+"+nn)"),203:za(a+"CB"),221:za("DD"),225:ya(h),227:Da(h),229:sa(h),233:E(h),249:Ea(11,h),253:za("FD"),256:"dd"}};Ga=Oa("DD");ta={64:N(p),65:ka(p),66:Ka(1),67:qa(1),
68:aa(),69:q(),70:B(0),71:k(va,e),72:N(s),73:ka(s),74:Ca(1),75:ja(1),76:aa(),77:q(),78:B(0),79:k(Ba,e),80:N(t),81:ka(t),82:Ka(2),83:qa(2),84:aa(),85:q(),86:B(1),87:k(e,va),88:N(u),89:ka(u),90:Ca(2),91:ja(2),92:aa(),93:q(),94:B(2),95:k(e,Ba),96:N(x),97:ka(x),98:Ka(3),99:qa(3),100:aa(),101:q(),102:B(0),103:"var bytetemp = READMEM(regPairs[3]);\nvar val = (regs["+e+"] << 4) | (bytetemp >> 4);\nWRITEMEM(regPairs[3], val);\nregs["+e+"] = (regs["+e+"] & 0xf0) | (bytetemp & 0x0f);\nregs["+g+"] = (regs["+
g+"] & 1) | sz53pTable[regs["+e+"]];",104:N(y),105:ka(y),106:Ca(3),107:ja(3,!0),108:aa(),109:q(),110:B(0),111:"var bytetemp =  READMEM(regPairs[3]);\nvar val = (bytetemp << 4) | (regs["+e+"] & 0x0f);\nWRITEMEM(regPairs[3], val);\nregs["+e+"] = (regs["+e+"] & 0xf0) | (bytetemp >> 4);\nregs["+g+"] = (regs["+g+"] & 1) | sz53pTable[regs["+e+"]];",112:"var port = regPairs[1];\nvar result = ioBus.read(port);\nregs["+g+"] = (regs["+g+"] & 1) | sz53pTable[result];",113:"ioBus.write(regPairs[1], 0);",114:Ka(11),
115:qa(11),116:aa(),117:q(),118:B(1),120:N(e),121:ka(e),122:Ca(11),123:ja(11),124:aa(),125:q(),126:B(2),160:$("++"),161:A("++"),162:Y("+"),163:ra("++"),168:$("--"),169:A("--"),170:Y("-"),171:ra("--"),176:da("++"),177:M("++"),178:la("+"),179:Ha("++"),184:da("--"),185:M("--"),186:la("-"),187:Ha("--"),256:"ed"};xa=Oa("FD");X={"0":"\t\t",1:ma(1),2:W(1,e),3:Fa(1),4:m("B"),5:I("B"),6:ea(p),7:"regs["+e+"] = (regs["+e+"] << 1) | (regs["+e+"] >> 7);\nregs["+g+"] = (regs["+g+"] & 196) | (regs["+e+"] & 41);",
8:Z(0,4),9:w(3,1),10:fa(e,1),11:pa(1),12:m("C"),13:I("C"),14:ea(s),15:"regs["+g+"] = (regs["+g+"] & 196) | (regs["+e+"] & 1);\nregs["+e+"] = (regs["+e+"] >> 1) | (regs["+e+"] << 7);\nregs["+g+"] |= (regs["+e+"] & 40);",16:"regs["+p+"]--;\nif (regs["+p+"]) {\n\t/* take branch */\n\tvar offset = READMEM(regPairs[12]);\n\tregPairs[12]++;\n\tregPairs[12] += (offset & 0x80 ? offset - 0x100 : offset);\n} else {\n\t/* do not take branch */\n\tregPairs[12]++;\n}",17:ma(2),18:W(2,e),19:Fa(2),20:m("D"),21:I("D"),
22:ea(t),23:"var bytetemp = regs["+e+"];\nregs["+e+"] = (regs["+e+"] << 1) | (regs["+g+"] & 1);\nregs["+g+"] = (regs["+g+"] & 196) | (regs["+e+"] & 40) | (bytetemp >> 7);",24:"var offset = READMEM(regPairs[12]);\nregPairs[12]++;\nregPairs[12] += (offset & 0x80 ? offset - 0x100 : offset);",25:w(3,2),26:fa(e,2),27:pa(2),28:m("E"),29:I("E"),30:ea(u),31:"var bytetemp = regs["+e+"];\nregs["+e+"] = (bytetemp >> 1) | (regs["+g+"] << 7);\nregs["+g+"] = (regs["+g+"] & 196) | (regs["+e+"] & 40) | (bytetemp & 1);",
32:ia(64,!1),33:ma(3),34:qa(3),35:Fa(3),36:m("H"),37:I("H"),38:ea(x),39:function(){var a,b;b=ca("add");a=r("add");return"var add = 0;\nvar carry = regs["+g+"] & 1;\nif( ( regs["+g+"] & 16 ) || ( ( regs["+e+"] & 0x0f ) > 9 ) ) add = 6;\nif( carry || ( regs["+e+"] > 0x99 ) ) add |= 0x60;\nif( regs["+e+"] > 0x99 ) carry = 1;\nif( regs["+g+"] & 2 ) {\n\t"+b+"\n} else {\n\t"+a+"\n}\nregs["+g+"] = ( regs["+g+"] & -6 ) | carry | parityTable[regs["+e+"]];"}(),40:ia(64,!0),41:w(3,3),42:ja(3),43:pa(3),44:m("L"),
45:I("L"),46:ea(y),47:"regs["+e+"] ^= 0xff;\nregs["+g+"] = (regs["+g+"] & 197) | (regs["+e+"] & 40) | 18;",48:ia(1,!1),49:ma(11),50:"var l = READMEM(regPairs[12]); regPairs[12]++;\nvar h = READMEM(regPairs[12]); regPairs[12]++;\nvar addr = (h<<8) | l;\nWRITEMEM(addr, regs["+e+"]);",51:Fa(11),52:m("(HL)"),53:I("(HL)"),54:"var n = READMEM(regPairs[12]); regPairs[12]++;\nWRITEMEM(regPairs[3], n);",55:"regs["+g+"] = (regs["+g+"] & 196) | (regs["+e+"] & 40) | 1;",56:ia(1,!0),57:w(3,11),58:"var l = READMEM(regPairs[12]); regPairs[12]++;\nvar h = READMEM(regPairs[12]); regPairs[12]++;\nvar addr = (h<<8) | l;\nregs["+
e+"] = READMEM(addr);",59:pa(11),60:m("A"),61:I("A"),62:ea(e),63:"regs["+g+"] = ( regs["+g+"] & 196 ) | ( (regs["+g+"] & 1) ? 16 : 1 ) | ( regs["+e+"] & 40 );",64:k(p,p),65:k(p,s),66:k(p,t),67:k(p,u),68:k(p,x),69:k(p,y),70:fa(p,3),71:k(p,e),72:k(s,p),73:k(s,s),74:k(s,t),75:k(s,u),76:k(s,x),77:k(s,y),78:fa(s,3),79:k(s,e),80:k(t,p),81:k(t,s),82:k(t,t),83:k(t,u),84:k(t,x),85:k(t,y),86:fa(t,3),87:k(t,e),88:k(u,p),89:k(u,s),90:k(u,t),91:k(u,u),92:k(u,x),93:k(u,y),94:fa(u,3),95:k(u,e),96:k(x,p),97:k(x,
s),98:k(x,t),99:k(x,u),100:k(x,x),101:k(x,y),102:fa(x,3),103:k(x,e),104:k(y,p),105:k(y,s),106:k(y,t),107:k(y,u),108:k(y,x),109:k(y,y),110:fa(y,3),111:k(y,e),112:W(3,p),113:W(3,s),114:W(3,t),115:W(3,u),116:W(3,x),117:W(3,y),118:"halted = true;\nregPairs[12]--;",119:W(3,e),120:k(e,p),121:k(e,s),122:k(e,t),123:k(e,u),124:k(e,x),125:k(e,y),126:fa(e,3),127:k(e,e),128:r("B"),129:r("C"),130:r("D"),131:r("E"),132:r("H"),133:r("L"),134:r("(HL)"),135:r("A"),136:v("B"),137:v("C"),138:v("D"),139:v("E"),140:v("H"),
141:v("L"),142:v("(HL)"),143:v("A"),144:ca("B"),145:ca("C"),146:ca("D"),147:ca("E"),148:ca("H"),149:ca("L"),150:ca("(HL)"),151:ca("A"),152:ga("B"),153:ga("C"),154:ga("D"),155:ga("E"),156:ga("H"),157:ga("L"),158:ga("(HL)"),159:ga("A"),160:H("B"),161:H("C"),162:H("D"),163:H("E"),164:H("H"),165:H("L"),166:H("(HL)"),167:H("A"),168:ha("B"),169:ha("C"),170:ha("D"),171:ha("E"),172:ha("H"),173:ha("L"),174:ha("(HL)"),175:ha("A"),176:L("B"),177:L("C"),178:L("D"),179:L("E"),180:L("H"),181:L("L"),182:L("(HL)"),
183:L("A"),184:n("B"),185:n("C"),186:n("D"),187:n("E"),188:n("H"),189:n("L"),190:n("(HL)"),191:n("A"),192:D(64,!1),193:ya(1),194:K(64,!1),195:"var l = READMEM(regPairs[12]); regPairs[12]++;\nvar h = READMEM(regPairs[12]); regPairs[12]++;\nregPairs[12] = (h<<8) | l;",196:F(64,!1),197:sa(1),198:r("nn"),199:ua(0),200:D(64,!0),201:Ma(),202:K(64,!0),203:za("CB"),204:F(64,!0),205:"var l = READMEM(regPairs[12]); regPairs[12]++;\nvar h = READMEM(regPairs[12]);\nregPairs[12]++;\nregPairs[11]--; WRITEMEM(regPairs[11], regPairs[12] >> 8);\nregPairs[11]--; WRITEMEM(regPairs[11], regPairs[12] & 0xff);\nregPairs[12] = (h<<8) | l;",
206:v("nn"),207:ua(8),208:D(1,!1),209:ya(2),210:K(1,!1),211:"var port = (regs["+e+"] << 8) | READMEM(regPairs[12]); regPairs[12]++;\nioBus.write(port, regs["+e+"]);",212:F(1,!1),213:sa(2),214:ca("nn"),215:ua(16),216:D(1,!0),217:"var wordtemp;\nwordtemp = regPairs[1]; regPairs[1] = regPairs[5]; regPairs[5] = wordtemp;\nwordtemp = regPairs[2]; regPairs[2] = regPairs[6]; regPairs[6] = wordtemp;\nwordtemp = regPairs[3]; regPairs[3] = regPairs[7]; regPairs[7] = wordtemp;",218:K(1,!0),219:"var val = READMEM(regPairs[12]); regPairs[12]++;\nvar port = (regs["+
e+"] << 8) | val;\nregs["+e+"] = ioBus.read(port);",220:F(1,!0),221:za("DD"),222:ga("nn"),223:ua(24),224:D(4,!1),225:ya(3),226:K(4,!1),227:Da(3),228:F(4,!1),229:sa(3),230:H("nn"),231:ua(32),232:D(4,!0),233:E(3),234:K(4,!0),235:Z(2,3),236:F(4,!0),237:za("ED"),238:ha("nn"),239:ua(40),240:D(128,!1),241:ya(0),242:K(128,!1),243:"iff1 = iff2 = 0;",244:F(128,!1),245:sa(0),246:L("nn"),247:ua(48),248:D(128,!0),249:Ea(11,3),250:K(128,!0),251:"iff1 = iff2 = 1;\ninterruptible = false;",252:F(128,!0),253:za("FD"),
254:n("nn"),255:ua(56),256:0};Ia="(function(opts) {\n\tvar self = {};\n\n\tvar memory = opts.memory;\nvar ioBus = opts.ioBus;\n\nvar registerBuffer = new ArrayBuffer(26);\n/* Expose registerBuffer as both register pairs and individual registers */\nvar regPairs = new Uint16Array(registerBuffer);\nvar regs = new Uint8Array(registerBuffer);\n\nvar iff1 = 0;\nvar iff2 = 0;\nvar im = 0;\nvar halted = false;\n\n/* tables for setting Z80 flags */\n\n/*\n\tWhether a half carry occurred or not can be determined by looking at\n\tthe 3rd bit of the two arguments and the result; these are hashed\n\tinto this table in the form r12, where r is the 3rd bit of the\n\tresult, 1 is the 3rd bit of the 1st argument and 2 is the\n\tthird bit of the 2nd argument; the tables differ for add and subtract\n\toperations\n*/\nvar halfcarryAddTable = new Uint8Array([0, 16, 16, 16, 0, 0, 0, 16]);\nvar halfcarrySubTable = new Uint8Array([0, 0, 16, 0, 16, 0, 16, 16]);\n\n/*\n\tSimilarly, overflow can be determined by looking at the 7th bits; again\n\tthe hash into this table is r12\n*/\nvar overflowAddTable = new Uint8Array([0, 0, 0, 4, 4, 0, 0, 0]);\nvar overflowSubTable = new Uint8Array([0, 4, 0, 0, 0, 0, 4, 0]);\n\nvar sz53Table = new Uint8Array(0x100); /* The S, Z, 5 and 3 bits of the index */\nvar parityTable = new Uint8Array(0x100); /* The parity of the lookup value */\nvar sz53pTable = new Uint8Array(0x100); /* OR the above two tables together */\n\nfor (var i = 0; i < 0x100; i++) {\n\tsz53Table[i] = i & ( 168 );\n\tvar j = i;\n\tvar parity = 0;\n\tfor (var k = 0; k < 8; k++) {\n\t\tparity ^= j & 1;\n\t\tj >>=1;\n\t}\n\n\tparityTable[i] = (parity ? 0 : 4);\n\tsz53pTable[i] = sz53Table[i] | parityTable[i];\n\t\n\tsz53Table[0] |= 64;\n\tsz53pTable[0] |= 64;\n}\n\nvar interruptible = true;\nvar interruptPending = false;\nvar opcodePrefix = '';\n\n\tself.requestInterrupt = function() {\n\t\tinterruptPending = true;\n\t\t/* TODO: use event scheduling to keep the interrupt line active for a fixed\n\t\t~48T window, to support retriggered interrupts and interrupt blocking via\n\t\tchains of EI or DD/FD prefixes */\n\t}\n\tvar z80Interrupt = function() {\n\t\tif (iff1) {\n\t\t\tif (halted) {\n\t\t\t\t/* move PC on from the HALT opcode */\n\t\t\t\tregPairs[12]++;\n\t\t\t\thalted = false;\n\t\t\t}\n\n\t\t\tiff1 = iff2 = 0;\n\n\t\t\t/* push current PC in readiness for call to interrupt handler */\n\t\t\tregPairs[11]--; WRITEMEM(regPairs[11], regPairs[12] >> 8);\n\t\t\tregPairs[11]--; WRITEMEM(regPairs[11], regPairs[12] & 0xff);\n\t\t\t\n\t\t\t/* TODO: R register */\n\t\t\t\n\t\t\tswitch (im) {\n\t\t\t\tcase 0:\n\t\t\t\t\tregPairs[12] = 0x0038;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 1:\n\t\t\t\t\tregPairs[12] = 0x0038;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 2:\n\t\t\t\t\tinttemp = (regs["+
va+"] << 8) | 0xff;\n\t\t\t\t\tl = READMEM(inttemp);\n\t\t\t\t\tinttemp = (inttemp+1) & 0xffff;\n\t\t\t\t\th = READMEM(inttemp);\n\t\t\t\t\tregPairs[12] = (h<<8) | l;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t};\n\n\tself.runRoutine = function(pcAddr, spAddr) {\n\t\tvar lastOpcodePrefix, offset, opcode;\n\n\t\tregPairs[12] = pcAddr;\n\t\tregPairs[11] = spAddr;\n\t\tmemory.write(regPairs[11], 0);\n\t\tmemory.write((regPairs[(11)] + 1) & 0xffff, 0);\n\n\t\tfor (var instructionCount = 0; instructionCount < 1000000; instructionCount++) {\n\t\t\tif (regPairs[12] == 0x0000) break;\n\n\t\t\tif (interruptible && interruptPending) {\n\t\t\t\tz80Interrupt();\n\t\t\t\tinterruptPending = false;\n\t\t\t}\n\t\t\tinterruptible = true; /* unless overridden by opcode */\n\t\t\tlastOpcodePrefix = opcodePrefix;\n\t\t\topcodePrefix = '';\n\t\t\tswitch (lastOpcodePrefix) {\n\t\t\t\tcase '':\n\t\t\t\t\topcode = memory.read(regPairs[12]); regPairs[12]++;\n\t\t\t\t\t"+
Aa(X,null,J.traps)+"\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'CB':\n\t\t\t\t\topcode = memory.read(regPairs[12]); regPairs[12]++;\n\t\t\t\t\t"+Aa(z)+"\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'DD':\n\t\t\t\t\topcode = memory.read(regPairs[12]); regPairs[12]++;\n\t\t\t\t\t"+Aa(Ga,X)+"\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'DDCB':\n\t\t\t\t\toffset = READMEM(regPairs[12]); regPairs[12]++;\n\t\t\t\t\tif (offset & 0x80) offset -= 0x100;\n\t\t\t\t\topcode = memory.read(regPairs[12]);\n\t\t\t\t\tregPairs[12]++;\n\t\t\t\t\t"+
Aa(wa)+"\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'ED':\n\t\t\t\t\topcode = memory.read(regPairs[12]); regPairs[12]++;\n\t\t\t\t\t"+Aa(ta)+"\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'FD':\n\t\t\t\t\topcode = memory.read(regPairs[12]); regPairs[12]++;\n\t\t\t\t\t"+Aa(xa,X)+"\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'FDCB':\n\t\t\t\t\toffset = READMEM(regPairs[12]); regPairs[12]++;\n\t\t\t\t\tif (offset & 0x80) offset -= 0x100;\n\t\t\t\t\topcode = memory.read(regPairs[12]);\n\t\t\t\t\tregPairs[12]++;\n\t\t\t\t\t"+Aa(ba)+"\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthrow(\"Unknown opcode prefix: \" + lastOpcodePrefix);\n\t\t\t}\n\t\t}\n\t\treturn instructionCount;\n\t};\n\n\tself.reset = function() {\n\t\tregPairs[12] = regPairs[10] = 0;\n\t\tiff1 = 0; iff2 = 0; im = 0; halted = false;\n\t};\n\n\tself.loadFromSnapshot = function(snapRegs) {\n\t\tregPairs[0] = snapRegs['AF'];\n\t\tregPairs[1] = snapRegs['BC'];\n\t\tregPairs[2] = snapRegs['DE'];\n\t\tregPairs[3] = snapRegs['HL'];\n\t\tregPairs[4] = snapRegs['AF_'];\n\t\tregPairs[5] = snapRegs['BC_'];\n\t\tregPairs[6] = snapRegs['DE_'];\n\t\tregPairs[7] = snapRegs['HL_'];\n\t\tregPairs[8] = snapRegs['IX'];\n\t\tregPairs[9] = snapRegs['IY'];\n\t\tregPairs[11] = snapRegs['SP'];\n\t\tregPairs[12] = snapRegs['PC'];\n\t\tregPairs[10] = snapRegs['IR'];\n\t\tiff1 = snapRegs['iff1'];\n\t\tiff2 = snapRegs['iff2'];\n\t\tim = snapRegs['im'];\n\t};\n\n\t/* Register / flag accessors (used for tape trapping and test harness) */\n\tself.getAF = function() {\n\t\treturn regPairs[0];\n\t}\n\tself.getBC = function() {\n\t\treturn regPairs[1];\n\t}\n\tself.getDE = function() {\n\t\treturn regPairs[2];\n\t}\n\tself.getHL = function() {\n\t\treturn regPairs[3];\n\t}\n\tself.getAF_ = function() {\n\t\treturn regPairs[4];\n\t}\n\tself.getBC_ = function() {\n\t\treturn regPairs[5];\n\t}\n\tself.getDE_ = function() {\n\t\treturn regPairs[6];\n\t}\n\tself.getHL_ = function() {\n\t\treturn regPairs[7];\n\t}\n\tself.getIX = function() {\n\t\treturn regPairs[8];\n\t}\n\tself.getIY = function() {\n\t\treturn regPairs[9];\n\t}\n\tself.getI = function() {\n\t\treturn regs["+
va+"];\n\t}\n\tself.getR = function() {\n\t\treturn regs["+Ba+"];\n\t}\n\tself.getSP = function() {\n\t\treturn regPairs[11];\n\t}\n\tself.getPC = function() {\n\t\treturn regPairs[12];\n\t}\n\tself.getIFF1 = function() {\n\t\treturn iff1;\n\t}\n\tself.getIFF2 = function() {\n\t\treturn iff2;\n\t}\n\tself.getIM = function() {\n\t\treturn im;\n\t}\n\tself.getHalted = function() {\n\t\treturn halted;\n\t}\n\n\tself.setAF = function(val) {\n\t\tregPairs[0] = val;\n\t}\n\tself.setBC = function(val) {\n\t\tregPairs[1] = val;\n\t}\n\tself.setDE = function(val) {\n\t\tregPairs[2] = val;\n\t}\n\tself.setHL = function(val) {\n\t\tregPairs[3] = val;\n\t}\n\tself.setAF_ = function(val) {\n\t\tregPairs[4] = val;\n\t}\n\tself.setBC_ = function(val) {\n\t\tregPairs[5] = val;\n\t}\n\tself.setDE_ = function(val) {\n\t\tregPairs[6] = val;\n\t}\n\tself.setHL_ = function(val) {\n\t\tregPairs[7] = val;\n\t}\n\tself.setIX = function(val) {\n\t\tregPairs[8] = val;\n\t}\n\tself.setIY = function(val) {\n\t\tregPairs[9] = val;\n\t}\n\tself.setI = function(val) {\n\t\tregs["+
va+"] = val;\n\t}\n\tself.setR = function(val) {\n\t\tregs["+Ba+"] = val;\n\t}\n\tself.setSP = function(val) {\n\t\tregPairs[11] = val;\n\t}\n\tself.setPC = function(val) {\n\t\tregPairs[12] = val;\n\t}\n\tself.setIFF1 = function(val) {\n\t\tiff1 = val;\n\t}\n\tself.setIFF2 = function(val) {\n\t\tiff2 = val;\n\t}\n\tself.setIM = function(val) {\n\t\tim = val;\n\t}\n\tself.setHalted = function(val) {\n\t\thalted = val;\n\t}\n\n\tself.getCarry_ = function() {\n\t\treturn regs["+Ra+"] & 1;\n\t};\n\tself.setCarry = function(val) {\n\t\tif (val) {\n\t\t\tregs["+
g+"] |= 1;\n\t\t} else {\n\t\t\tregs["+g+"] &= -2;\n\t\t}\n\t};\n\tself.getA_ = function() {\n\t\treturn regs["+Qa+"];\n\t};\n\n\treturn self;\n})";Ia=Ia.replace(/READMEM\((.*?)\)/g,"memory.read($1)");Ia=Ia.replace(/WRITEMEM\((.*?),(.*?)\)/g,"memory.write($1,$2);");return(0,eval)(Ia)}}).call(this);(function(){function J(v,Ca,r,w){function H(c,b){49152==(c&49154)?Ea=b:32768==(c&49154)&&(ma[Ea]=b,13==Ea&&(ma[14]=!0))}function l(){m[c]=h[B[Y]];B[Y]++;m[ia]=h[B[Y]];B[Y]++;return B[la]+ja}function C(c,b,k){for(;h[c]!=k;)c+=b;return c}function f(){var c=13;0===z[c]&&(c-=3);do H(65533,c),H(49149,z[c]),c--;while(0<=c);B[J]=49149}function F(c){L[c]--;return L[c]&128?(L[c]=Ha[c],!0):!1}function M(c,b){for(;;){var f=h[b];if(96>f)return Ga[c]=f,xa[c]=0,ba[c]=32,b++,b;if(112>f)B[J]=99,ta[c]=C(na,99,f-96)+
1,b++;else if(128>f)ra[c]=C(k,33,f-112)+1,wa[c]=0,b++;else{if(128==f)return b++,ba[c]=255,b;if(129==f)return b++,b;130==f?(ra[c]=C(k,33,0)+1,wa[c]=0,b++):143>f?(z[13]=f-128,b++,z[11]=h[b],b++,wa[c]=1,ra[c]=C(k,33,0)+1):(f=f-161&255,L[c]=f,Ha[c]=f,b++)}}}function A(c){var b,f;if(255==ba[c])return m[E];b=ba[c]-1&255;ba[c]=b;f=xa[c];xa[c]=f+1&31;if(b)return f;var k=ta[c]+96;b=h[k]-1&255;if(b&128)return ba[c]=255,f;xa[c]=b+1&31;ba[c]=h[k+1]+1;return b}function n(f,b){var k;f+=3*b&255;k=h[f+1];m[E]=k&
128?16:0;m[K]=k&64?2:0;m[da]=k&31;m[c]=h[f+2];k=h[f+0];m[ia]=k>>4;m[$]=k&15;h[f+1]&32&&(m[ia]|=16)}function I(c,b,f){c=ya[Ga[c]+h[ra[c]+f]+Ja&127];return b&4096?c+(b&4095):c-b}function pa(c,b){var f=wa[c];0!==f&&(2==f?z[13]=0:wa[c]=2,z[b]|=16)}r||(r={});w||(w={});var Z=new ArrayBuffer(2),Da=new Uint16Array(Z),Z=new Uint8Array(Z);Da[0]=256;var Da=1==Z[0],Z=new ArrayBuffer(26),B=new Uint16Array(Z),m=new Uint8Array(Z),J=1,la=2,Y=3,N,K,E,ia,c,da,$;Da?(N=0,K=2,E=3,ia=4,c=5,da=6,$=7):(N=1,K=3,E=2,ia=5,
c=4,da=7,$=6);var h,ma=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,!1],Ea=0,ja,ea,k,fa,na,qa,W,Ja,oa,aa,X=new Uint16Array(3),z=new Uint16Array(14),Ga=new Uint8Array(3),wa=new Uint8Array(3),ta=new Uint16Array(3),xa=new Uint8Array(3),ba=new Uint8Array(3),L=new Uint8Array(3),Ha=new Uint8Array(3),ra=new Uint16Array(3),ka,ya=new Uint16Array([3832,3600,3424,3200,3032,2856,2696,2544,2400,2272,2136,2016,1916,1800,1712,1600,1516,1428,1348,1272,1200,1136,1068,1008,958,900,856,800,758,714,674,636,600,568,534,504,479,450,428,
400,379,357,337,318,300,284,267,252,239,225,214,200,189,178,168,159,150,142,133,126,119,112,107,100,94,89,84,79,75,71,66,63,59,56,53,50,47,44,42,39,37,35,33,31,29,28,26,25,23,22,21,19,18,17,16,15]);return new Cowbell.Common.AYGenerator(v,Ca,function(c,b){var v=[];h=new Uint8Array(c.length+1);h[0]=255;for(i=0;i<c.length;i++)h[1+i]=c[i];ka=!1;B[Y]=ja=1;oa=h[ja];B[Y]++;B[la]=l();qa=h[B[la]]+1;ea=B[la]+1;k=l();fa=l();na=ja+27;X[0]=0;var q=C(k,33,0)+1;for(i=0;3>i;i++)Ga[i]=0,ta[i]=0,xa[i]=0,ra[i]=q,ba[i]=
255;W=0;aa=1;for(f();;){ma[14]=!1;var D=q=void 0;aa--;if(0===aa){aa=oa;q=0;if(F(q)){if(255==h[X[0]]){D=W;W>=qa&&(ka=!0,D=W=0);W++;var D=(D<<1)+ea,H=h[D];m[E]=H;Ja=h[D+1];B[Y]=C(fa,7,H)+1;X[0]=l();X[1]=l();X[2]=l()}X[0]=M(q,X[0])}q=1;F(q)&&(X[1]=M(q,X[1]));q=2;F(q)&&(X[2]=M(q,X[2]))}q=0;m[E]=A(q);D=m[E];n(ta[q],D);z[7]=(m[E]|m[K])>>1;255==ba[q]?z[8]=0:(m[E]||(z[6]=m[da]),m[N]=m[$],B[Y]=I(q,B[la],D),z[0]=m[$],z[1]=m[da],z[8]=m[N],pa(q,8));q=1;m[E]=A(q);255==ba[q]?z[9]=0:(D=m[E],n(ta[q],D),z[7]|=m[E]|
m[K],m[E]||(z[6]=m[da]),m[N]=m[$],B[Y]=I(q,B[la],D),z[2]=m[$],z[3]=m[da],z[9]=m[N],pa(q,9));q=2;m[E]=A(q);255==ba[q]?z[10]=0:(D=m[E],n(ta[q],D),m[E]<<=1,m[K]<<=1,z[7]|=m[E]|m[K],m[E]||(z[6]=m[da]),m[N]=m[$],B[Y]=I(q,B[la],D),z[4]=m[$],z[5]=m[da],z[10]=m[N],pa(q,10));f();if(ka)break;v.push(ma.slice())}b({ayRegisterLog:v,ayFrequency:w.ayFrequency||r.ayFrequency,commandFrequency:w.commandFrequency||r.commandFrequency,stereoMode:w.stereoMode||r.stereoMode,panning:w.panning||r.panning,ayMode:w.ayMode||
r.ayMode})})}Cowbell.Player.ZXSTC=function(v){return new Cowbell.Common.WebAudioPlayer(J,v)}})();Cowbell.Common.PT3PlayerBin=new Uint8Array([33,110,72,24,58,195,185,68,24,41,0,0,0,61,86,84,73,73,32,80,84,51,32,80,108,97,121,101,114,32,114,46,55,61,33,10,64,203,254,203,70,200,225,33,168,70,52,33,108,70,52,175,103,111,50,182,70,34,183,70,195,171,69,34,168,65,34,62,67,229,17,100,0,25,126,50,69,69,229,221,225,25,34,11,64,221,94,2,25,35,34,231,68,209,221,110,3,221,102,4,25,34,244,68,33,169,0,25,34,55,67,33,105,0,25,34,161,65,33,10,64,203,190,17,28,70,1,31,71,26,19,254,30,48,6,103,26,111,19,24,7,213,
22,0,95,25,25,209,124,2,11,125,2,11,214,240,32,227,33,81,70,119,17,82,70,1,108,0,237,176,60,50,168,70,33,1,240,34,108,70,34,137,70,34,166,70,33,24,70,34,209,68,34,94,70,34,123,70,34,152,70,34,96,70,34,125,70,34,154,70,221,126,169,214,48,56,4,254,10,56,2,62,6,50,141,66,245,254,4,221,126,255,23,230,7,33,200,69,213,80,135,95,25,94,35,203,59,159,230,167,50,32,65,235,193,9,26,198,216,79,206,69,145,71,197,17,174,71,213,6,12,197,78,35,229,70,213,235,17,23,0,221,38,8,203,56,203,25,25,121,138,119,35,120,138,
119,25,221,37,32,239,209,19,19,225,35,193,16,218,225,209,123,254,228,32,5,62,253,50,220,71,26,167,40,17,31,245,135,79,9,241,48,2,53,53,52,167,237,66,19,24,235,241,254,5,33,17,0,84,92,62,23,48,3,45,93,175,50,116,65,221,33,190,70,14,16,229,25,235,237,98,125,125,124,206,0,221,119,0,221,35,25,12,121,230,15,32,239,225,123,254,119,32,1,28,121,167,32,223,195,171,69,221,54,8,0,205,47,67,10,3,15,135,95,22,0,33,33,33,25,94,35,86,33,33,33,25,221,117,3,221,116,4,24,65,7,7,7,7,221,119,16,24,59,221,119,8,221,119,
244,24,51,61,32,7,10,3,221,119,5,24,41,205,19,67,24,36,205,47,67,24,28,221,119,8,221,119,244,196,19,67,10,3,24,184,221,126,6,50,113,66,221,110,250,221,102,251,34,147,66,17,16,32,10,3,131,56,150,130,40,73,56,155,131,40,37,56,173,131,40,179,56,185,198,96,56,32,131,56,193,130,56,15,131,56,192,135,95,33,104,34,25,94,35,86,213,24,208,50,172,70,24,206,221,203,9,134,24,8,221,119,6,221,203,9,198,175,237,115,70,66,221,249,103,111,229,229,229,229,229,229,49,49,49,221,126,5,221,119,15,201,221,203,9,150,10,3,
3,3,221,119,10,221,119,249,17,174,71,221,126,6,221,119,7,135,111,38,0,25,126,35,102,111,229,62,62,221,119,6,135,111,38,0,25,94,35,86,225,237,82,221,117,13,221,116,14,221,94,250,221,86,251,62,62,254,6,56,9,17,17,17,221,115,250,221,114,251,10,3,8,10,3,167,40,1,235,237,82,242,174,66,47,8,237,68,8,221,119,12,8,221,119,11,221,54,254,0,201,221,203,9,214,10,3,221,119,10,167,32,7,58,141,66,254,7,159,60,221,119,249,10,3,8,10,3,24,215,10,3,221,119,245,201,10,3,221,119,244,201,10,3,221,119,255,221,119,254,10,
3,221,119,0,175,221,119,249,221,119,250,221,119,251,201,10,3,50,161,69,50,171,70,10,3,111,10,3,103,34,164,69,201,10,3,50,69,69,201,221,115,8,50,187,70,10,3,103,10,3,111,34,188,70,175,221,119,244,50,171,70,103,111,34,169,70,201,135,95,22,0,221,114,244,33,33,33,25,94,35,86,33,33,33,25,221,117,1,221,116,2,201,46,67,186,66,79,66,215,66,221,66,227,66,46,67,46,67,251,66,13,67,46,67,46,67,46,67,46,67,46,67,46,67,175,50,184,70,221,203,21,70,229,202,150,68,237,115,225,67,221,110,13,221,102,14,249,209,103,
221,126,0,111,57,60,186,56,1,123,221,119,0,221,126,18,134,242,150,67,175,254,96,56,2,62,95,135,8,221,110,15,221,102,16,249,209,38,0,221,126,1,71,135,135,111,57,249,120,60,186,56,1,123,221,119,1,193,225,221,94,8,221,86,9,25,203,112,40,6,221,117,8,221,116,9,235,8,111,38,0,49,174,71,57,249,225,25,221,94,6,221,86,7,25,49,49,49,227,175,221,182,5,40,62,221,53,5,32,57,221,126,22,221,119,5,221,110,23,221,102,24,124,25,221,117,6,221,116,7,221,203,21,86,32,31,221,94,25,221,86,26,167,40,1,235,237,82,250,40,
68,221,126,19,221,119,18,175,221,119,5,221,119,6,221,119,7,221,126,2,203,121,40,19,203,113,40,7,254,15,40,11,60,24,5,254,241,40,4,61,221,119,2,111,120,230,15,133,242,75,68,175,254,16,56,2,62,15,221,182,28,111,38,0,17,174,70,25,126,203,65,32,3,221,182,20,50,184,70,203,120,121,40,25,23,23,203,47,203,47,203,47,221,134,4,203,104,40,3,221,119,4,33,133,69,134,119,24,14,31,221,134,3,50,173,70,203,104,40,3,221,119,3,120,31,230,72,33,181,70,182,15,119,225,175,221,182,10,200,221,53,10,192,221,174,21,221,119,
21,31,221,126,11,56,3,221,126,12,221,119,10,201,175,50,133,69,50,181,70,61,50,187,70,33,168,70,53,32,127,33,108,70,53,32,76,1,1,1,10,167,32,58,87,50,172,70,42,11,64,35,126,60,32,8,205,34,64,33,33,33,126,60,34,11,64,61,135,95,203,18,33,33,33,25,237,91,168,65,237,115,15,69,249,225,25,68,77,225,25,34,39,69,225,25,34,59,69,49,49,49,221,33,93,70,205,229,65,237,67,209,68,33,137,70,53,32,14,221,33,122,70,1,1,1,205,229,65,237,67,39,69,33,166,70,53,32,14,221,33,151,70,1,1,1,205,229,65,237,67,59,69,62,62,50,
168,70,221,33,81,70,42,174,70,205,104,67,34,174,70,58,184,70,50,182,70,221,33,110,70,42,176,70,205,104,67,34,176,70,58,184,70,50,183,70,221,33,139,70,42,178,70,205,104,67,34,178,70,42,172,70,124,133,50,180,70,62,62,95,135,159,87,42,188,70,25,237,91,169,70,25,34,185,70,175,33,171,70,182,40,14,53,32,10,62,62,119,33,33,33,25,34,169,70,175,17,191,255,1,253,255,33,174,70,237,121,67,237,163,66,60,254,13,32,245,237,121,126,167,248,67,237,121,201,100,42,101,0,1,12,1,12,148,53,48,14,96,32,96,33,1,5,9,11,13,
15,19,21,25,37,61,0,93,0,49,55,77,83,95,113,130,140,156,158,160,166,168,170,172,174,174,0,87,31,35,37,41,45,47,51,191,0,29,33,35,39,43,45,49,85,189,191,0,27,33,37,41,43,59,77,95,187,189,191,0,1,0,144,13,216,105,112,118,125,133,141,149,157,168,177,187,12,218,98,104,109,117,123,131,138,146,156,164,175,184,14,8,106,114,120,126,134,144,150,160,170,180,190,15,192,120,136,128,144,152,160,176,168,224,176,232,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);(function(){function J(v,J,r,w){r||(r={});w||(w={});return new Cowbell.Common.AYGenerator(v,J,function(v,l){for(var C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,!1],f=[],F=0,M=Cowbell.Common.buildZ80({}),A=new Uint8Array(65536),n=0;n<Cowbell.Common.PT3PlayerBin.length;n++)A[16384+n]=Cowbell.Common.PT3PlayerBin[n];for(n=0;n<v.length;n++)A[18542+n]=v[n];M=M({memory:{read:function(f){return A[f]},write:function(f,l){A[f]=l}},ioBus:{write:function(f,l){49152==(f&49154)?F=l:32768==(f&49154)&&(C[F]=l,13==F&&(C[14]=!0))}}});
M.runRoutine(16384,16128);for(n=0;1E6>n;n++){C[14]=!1;M.runRoutine(16389,16128);if(0!==A[16394])break;f.push(C.slice())}l({ayRegisterLog:f,ayFrequency:w.ayFrequency||r.ayFrequency,commandFrequency:w.commandFrequency||r.commandFrequency,stereoMode:w.stereoMode||r.stereoMode,panning:w.panning||r.panning,ayMode:w.ayMode||r.ayMode})})}Cowbell.Player.ZXPT3=function(v){return new Cowbell.Common.WebAudioPlayer(J,v)}})();Cowbell.Common.SQTPlayerBin=new Uint8Array([62,8,50,196,68,50,225,68,50,254,68,1,1,1,205,71,65,42,8,80,221,33,196,68,205,145,64,205,138,64,205,138,64,17,63,7,205,128,64,30,0,20,122,254,12,32,245,201,33,27,69,53,32,41,54,1,35,53,126,183,204,226,64,254,4,220,138,64,221,33,196,68,14,36,205,81,65,221,33,225,68,14,18,205,81,65,221,33,254,68,14,9,205,81,65,175,111,103,34,115,64,221,33,196,68,205,27,67,205,27,67,205,27,67,1,0,0,120,23,23,23,177,47,246,0,95,22,7,1,253,255,237,81,6,191,237,89,201,33,12,224,
221,33,27,69,126,183,32,8,42,10,80,62,255,50,255,255,70,203,16,221,203,0,174,48,4,221,203,0,238,35,126,230,15,221,119,26,126,230,240,31,31,31,31,254,9,56,3,214,9,47,221,119,24,35,34,139,64,104,38,0,237,91,6,80,25,94,35,86,19,221,115,22,221,114,23,17,29,0,221,25,221,34,143,64,201,58,255,255,238,1,50,255,255,58,222,68,50,207,68,58,251,68,50,236,68,58,24,69,50,9,69,42,218,68,43,70,35,34,214,68,42,247,68,34,243,68,42,20,69,34,16,69,42,220,68,34,216,68,42,249,68,34,245,68,42,22,69,34,18,69,42,139,64,78,
35,34,139,64,33,196,68,34,143,64,62,3,22,0,203,166,203,110,40,2,203,230,30,21,25,114,30,8,25,61,32,238,237,67,27,69,121,50,55,64,120,201,221,126,21,183,40,10,221,53,21,221,203,0,126,32,62,201,221,94,18,221,86,19,221,203,0,246,221,203,0,190,26,19,203,127,40,77,221,115,18,221,114,19,71,203,119,40,12,27,221,115,27,221,114,28,230,31,195,181,66,203,111,32,33,230,15,203,96,40,2,237,68,221,134,12,221,119,12,221,94,27,221,86,28,221,203,0,182,26,203,127,32,218,19,195,144,66,230,15,221,119,21,203,96,200,183,
40,226,221,203,0,254,24,220,254,96,218,118,66,214,96,254,15,56,17,33,124,64,71,126,177,119,221,203,0,222,120,214,15,202,137,66,61,235,78,35,221,203,0,118,40,10,221,117,18,221,116,19,221,203,0,182,254,8,56,17,221,203,0,198,105,95,22,13,205,128,64,22,11,93,195,128,64,254,6,48,79,221,203,0,102,200,183,32,7,121,230,15,221,119,11,201,61,32,6,121,221,134,11,24,241,61,32,11,121,50,207,68,50,236,68,50,9,69,201,61,32,17,6,3,17,29,0,33,207,68,126,129,230,15,119,25,16,248,201,33,27,69,61,32,11,121,230,31,32,
2,62,32,119,195,76,65,126,129,24,242,214,6,6,0,121,72,32,3,5,237,68,221,203,0,214,221,113,13,221,113,14,221,119,15,221,112,16,201,221,119,12,27,221,115,27,221,114,28,19,205,144,66,221,203,0,118,200,221,115,18,221,114,19,201,26,19,203,127,40,28,71,31,230,31,196,181,66,203,112,200,26,230,240,203,24,31,31,31,203,63,196,230,66,26,19,230,15,200,195,222,65,197,135,79,6,0,221,126,0,230,240,221,119,0,42,2,80,9,78,35,70,221,229,225,35,113,35,112,3,3,35,113,35,112,35,54,32,35,34,242,66,193,33,124,64,126,177,
169,119,201,135,79,6,0,42,4,80,9,78,35,70,33,0,0,113,35,112,35,3,3,113,35,112,35,54,32,221,203,0,206,201,33,115,64,203,22,35,203,22,221,126,17,198,8,237,121,6,191,237,89,195,49,68,221,110,3,221,102,4,1,253,255,221,86,0,30,0,203,90,32,216,126,230,15,194,60,67,203,66,40,11,30,16,195,66,67,221,150,11,56,1,95,221,126,17,198,8,237,121,6,191,237,89,126,35,230,240,31,31,31,22,6,94,203,19,203,110,40,10,206,0,6,255,237,81,6,191,237,121,123,23,235,33,115,64,203,22,35,23,203,22,235,126,230,31,87,35,94,35,213,
22,0,221,53,5,194,162,67,221,110,1,221,102,2,126,35,254,32,78,35,32,8,221,203,0,222,221,203,0,142,71,135,128,95,25,221,113,5,221,117,3,221,116,4,221,126,12,221,203,0,78,40,42,221,110,8,221,102,9,134,35,221,53,10,194,213,67,8,221,110,6,221,102,7,126,35,254,32,88,40,2,78,95,35,25,221,113,10,8,221,117,8,221,116,9,221,134,20,254,45,48,11,135,95,33,55,68,25,86,35,195,242,67,33,100,68,95,25,94,235,209,203,98,203,162,40,2,25,1,237,82,221,203,0,86,40,22,221,78,13,221,70,14,9,235,221,110,15,221,102,16,9,221,
117,13,221,116,14,235,221,126,17,135,1,253,255,237,121,6,191,237,105,60,6,255,237,121,6,191,237,97,17,29,0,221,25,201,13,93,12,156,11,231,11,60,10,155,10,2,9,115,8,235,8,107,7,242,7,128,7,20,6,174,6,78,5,244,5,158,5,79,5,1,4,185,4,117,4,53,3,249,3,192,3,138,3,87,3,39,2,250,2,207,2,167,2,129,2,93,2,59,2,27,1,252,1,224,1,197,1,172,1,148,1,125,1,104,1,83,1,64,1,46,1,29,1,13,254,240,226,214,202,190,180,170,160,151,143,135,127,120,113,107,101,95,90,85,80,76,71,67,64,60,57,53,50,48,45,42,40,38,36,34,32,
30,28,27,25,24,22,21,20,19,18,17,16,15,14,40,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,115,207,0,0,0,0,0,40,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,35,207,0,0,0,0,0,40,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,113,206,0,0,0,0,0,1,1]);(function(){function J(v,J,r,w){r||(r={});w||(w={});return new Cowbell.Common.AYGenerator(v,J,function(v,l){for(var C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,!1],f=[],F=0,M=Cowbell.Common.buildZ80({}),A=new Uint8Array(65536),n=0;n<Cowbell.Common.SQTPlayerBin.length;n++)A[16384+n]=Cowbell.Common.SQTPlayerBin[n];for(n=0;n<v.length;n++)A[20480+n]=v[n];for(var I=20480-((A[20482]|A[20483]<<8)-10),J=(A[20492]|A[20493]<<8)+I,n=20482;n<J;n+=2){var Z=(A[n]|A[n+1]<<8)+I;A[n]=Z&255;A[n+1]=Z>>8}M=M({memory:{read:function(f){return A[f]},
write:function(f,l){A[f]=l}},ioBus:{write:function(f,l){49152==(f&49154)?F=l:32768==(f&49154)&&(C[F]=l,13==F&&(C[14]=!0))}}});M.runRoutine(16384,16128);for(n=A[65535]=0;3E4>n;n++){C[14]=!1;M.runRoutine(16432,16128);if(254==A[65535])break;f.push(C.slice())}l({ayRegisterLog:f,ayFrequency:w.ayFrequency||r.ayFrequency,commandFrequency:w.commandFrequency||r.commandFrequency,stereoMode:w.stereoMode||r.stereoMode,panning:w.panning||r.panning,ayMode:w.ayMode||r.ayMode})})}Cowbell.Player.ZXSQT=function(v){return new Cowbell.Common.WebAudioPlayer(J,
v)}})();
