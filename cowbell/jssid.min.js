(function(){var a=Math.max;function b(b,c){var d=String.fromCharCode,e=Math.pow;function f(a){if(E){F=0,w=a,g(t),i(),na=w,D[1]=55,D[56325]=0;for(var c=1e5;0<=c&&!h();c--);r[w]||D[56325]?(!D[56325]&&(D[56324]=36,D[56325]=64),K=(D[56324]+256*D[56325])/J):K=b/50,0==u?v=2>(3&D[1])?D[65534]+256*D[65535]:D[788]+256*D[789]:(v=u,57344<=v&&55==D[1]&&(D[1]=53)),g(v),L=1,G=0,N=0,playtime=0,ended=0,F=1}}function g(a){ma=a,na=0,pa=0,qa=0,ua=0,ra=255}function h(){if(sa=D[ma],va=2,wa=0,1&sa){switch(31&sa){case 1:case 3:ta=D[D[++ma]+pa]+256*D[D[ma]+pa+1],va=6;break;case 17:case 19:ta=D[D[++ma]]+256*D[D[ma]+1]+qa,va=6;break;case 25:case 31:ta=D[++ma]+256*D[++ma]+qa,va=5;break;case 29:ta=D[++ma]+256*D[++ma]+pa,va=5;break;case 13:case 15:ta=D[++ma]+256*D[++ma],va=4;break;case 21:ta=D[++ma]+pa,va=4;break;case 5:case 7:ta=D[++ma],va=3;break;case 23:ta=D[++ma]+qa,va=4;break;case 9:case 11:ta=++ma,va=2}switch(ta&=65535,224&sa){case 96:oa=na,na+=D[ta]+(1&ua),ua&=20,ua|=128&na|255<na,na&=255,ua|=!na<<1|(!(128&(oa^D[ta]))&&128&(oa^na))>>1;break;case 224:oa=na,na-=D[ta]+!(1&ua),ua&=20,ua|=128&na|0<=na,na&=255,ua|=!na<<1|(128&(oa^D[ta])&&128&(oa^na))>>1;break;case 192:oa=na-D[ta],ua&=124,ua|=!(255&oa)<<1|128&oa|0<=oa;break;case 0:na|=D[ta],ua&=125,ua|=!na<<1|128&na;break;case 32:na&=D[ta],ua&=125,ua|=!na<<1|128&na;break;case 64:na^=D[ta],ua&=125,ua|=!na<<1|128&na;break;case 160:na=D[ta],ua&=125,ua|=!na<<1|128&na,3==(3&sa)&&(pa=na);break;case 128:D[ta]=na&(3==(3&sa)?pa:255),wa=ta}}else if(2&sa){switch(31&sa){case 30:ta=D[++ma]+256*D[++ma]+(128==(192&sa)?qa:pa),va=5;break;case 14:ta=D[++ma]+256*D[++ma],va=4;break;case 22:ta=D[++ma]+(128==(192&sa)?qa:pa),va=4;break;case 6:ta=D[++ma],va=3;break;case 2:ta=++ma,va=2}switch(ta&=65535,224&sa){case 0:ua&=254;case 32:10==(15&sa)?(na=(na<<1)+(1&ua),ua&=60,ua|=128&na|255<na,na&=255,ua|=!na<<1):(oa=(D[ta]<<1)+(1&ua),ua&=60,ua|=128&oa|255<oa,oa&=255,ua|=!oa<<1,D[ta]=oa,va+=2);break;case 64:ua&=254;case 96:10==(15&sa)?(oa=na,na=(na>>1)+128*(1&ua),ua&=60,ua|=128&na|1&oa,na&=255,ua|=!na<<1):(oa=(D[ta]>>1)+128*(1&ua),ua&=60,ua|=128&oa|1&D[ta],oa&=255,ua|=!oa<<1,D[ta]=oa,va+=2);break;case 192:4&sa?(D[ta]--,D[ta]&=255,ua&=125,ua|=!D[ta]<<1|128&D[ta],va+=2):(pa--,pa&=255,ua&=125,ua|=!pa<<1|128&pa);break;case 160:if(10!=(15&sa))pa=D[ta];else if(16&sa){pa=ra;break}else pa=na;ua&=125,ua|=!pa<<1|128&pa;break;case 128:4&sa?(D[ta]=pa,wa=ta):16&sa?ra=pa:(na=pa,ua&=125,ua|=!na<<1|128&na);break;case 224:4&sa&&(D[ta]++,D[ta]&=255,ua&=125,ua|=!D[ta]<<1|128&D[ta],va+=2)}}else if(8==(12&sa))switch(240&sa){case 96:ra++,ra&=255,na=D[256+ra],ua&=125,ua|=!na<<1|128&na,va=4;break;case 192:qa++,qa&=255,ua&=125,ua|=!qa<<1|128&qa;break;case 224:pa++,pa&=255,ua&=125,ua|=!pa<<1|128&pa;break;case 128:qa--,qa&=255,ua&=125,ua|=!qa<<1|128&qa;break;case 0:D[256+ra]=ua,ra--,ra&=255,va=3;break;case 32:ra++,ra&=255,ua=D[256+ra],va=4;break;case 64:D[256+ra]=na,ra--,ra&=255,va=3;break;case 144:na=qa,ua&=125,ua|=!na<<1|128&na;break;case 160:qa=na,ua&=125,ua|=!qa<<1|128&qa;break;default:32&ka[sa>>5]?ua|=223&ka[sa>>5]:ua&=255-(223&ka[sa>>5])}else if(16==(31&sa))ma++,oa=D[ma],128&oa&&(oa-=256),32&sa?ua&la[sa>>6]&&(ma+=oa,va=3):!(ua&la[sa>>6])&&(ma+=oa,va=3);else{switch(31&sa){case 0:ta=++ma,va=2;break;case 28:ta=D[++ma]+256*D[++ma]+pa,va=5;break;case 12:ta=D[++ma]+256*D[++ma],va=4;break;case 20:ta=D[++ma]+pa,va=4;break;case 4:ta=D[++ma],va=3}switch(ta&=65535,224&sa){case 0:D[256+ra]=ma%256,ra--,ra&=255,D[256+ra]=ma/256,ra--,ra&=255,D[256+ra]=ua,ra--,ra&=255,ma=D[65534]+256*D[65535]-1,va=7;break;case 32:15&sa?(ua&=61,ua|=192&D[ta]|!(na&D[ta])<<1):(D[256+ra]=(ma+2)%256,ra--,ra&=255,D[256+ra]=(ma+2)/256,ra--,ra&=255,ma=D[ta]+256*D[ta+1]-1,va=6);break;case 64:if(15&sa)ma=ta-1,va=3;else{if(255<=ra)return 254;ra++,ra&=255,ua=D[256+ra],ra++,ra&=255,oa=D[256+ra],ra++,ra&=255,ma=D[256+ra]+256*oa-1,va=6}break;case 96:if(15&sa)ma=D[ta]+256*D[ta+1]-1,va=5;else{if(255<=ra)return 255;ra++,ra&=255,oa=D[256+ra],ra++,ra&=255,ma=D[256+ra]+256*oa-1,va=6}break;case 192:oa=qa-D[ta],ua&=124,ua|=!(255&oa)<<1|128&oa|0<=oa;break;case 224:oa=pa-D[ta],ua&=124,ua|=!(255&oa)<<1|128&oa|0<=oa;break;case 160:qa=D[ta],ua&=125,ua|=!qa<<1|128&qa;break;case 128:D[ta]=qa,wa=ta}}return ma++,ma&=65535,0}function i(){for(var a=54272;55295>=a;a++)D[a]=0;for(var a=56832;57343>=a;a++)D[a]=0;for(var a=0;9>a;a++)ya[a]=16,za[a]=Aa[a]=Ba[a]=Ca[a]=0}function j(a,b){var c=Math.exp;ia=0,ja=0;for(var d=3*a;d<3*(a+1);d++)R=1&ya[d],S=b+7*(d-3*a),U=D[S+4],V=240&U,W=8&U,_=D[S+6],ca=0,R!=(1&U)&&(R?ya[d]&=62:(ya[d]=193,(15&_)>(15&Ca[d])&&(ca=1))),Ca[d]=_,za[d]+=J,32768<=za[d]&&(za[d]-=32768),128&ya[d]?($=D[S+5]>>4,Z=Pa[$]):64&ya[d]?($=15&D[S+5],Z=Pa[$]):($=15&_,Z=Pa[$]),$=Qa[$],za[d]>=Z&&za[d]<Z+J&&0==ca&&(za[d]-=Z,(128&ya[d]||++Ba[d]==Ra[Aa[d]])&&(!(16&ya[d])&&(128&ya[d]?(Aa[d]+=$,255<=Aa[d]&&(Aa[d]=255,ya[d]&=127)):(!(64&ya[d])||Aa[d]>(_>>4)+(240&_))&&(Aa[d]-=$,0>=Aa[d]&&0!=Aa[d]+$&&(Aa[d]=0,ya[d]|=16))),Ba[d]=0)),Aa[d]&=255,aa=(D[S]+256*D[S+1])*J,W||2&U&&Fa[a]?Da[d]=0:(Da[d]+=aa,16777215<Da[d]&&(Da[d]-=16777216)),ba=8388608&Da[d],Fa[a]=ba>(8388608&Ea[d])?1:0,128&V?(ca=Ha[d],((1048576&Da[d])!=(1048576&Ea[d])||1048576<=aa)&&($=4194304&ca^(131072&ca)<<5,ca=8388607&(ca<<1)+(0<$||W),Ha[d]=ca),fa=112&V?0:((1048576&ca)>>5)+((262144&ca)>>4)+((16384&ca)>>1)+((2048&ca)<<1)+((512&ca)<<2)+((32&ca)<<5)+((4&ca)<<7)+((1&ca)<<8)):64&V?(da=16*(D[S+2]+256*(15&D[S+3])),ca=aa>>9,0<da&&da<ca&&(da=ca),ca^=65535,da>ca&&(da=ca),ca=Da[d]>>8,64==V?($=256/(aa>>16),W?fa=65535:ca<da?(ea=(65535-da)*$,65535<ea&&(ea=65535),fa=ea-(da-ca)*$,0>fa&&(fa=0)):(ea=da*$,65535<ea&&(ea=65535),fa=(65535-ca)*$-ea,0<=fa&&(fa=65535),fa&=65535)):(fa=ca>=da||W?65535:0,16&V?32&V?fa=fa?k(d,PulseTriSaw_8580,ca>>4,1):0:(ca=Da[d]^(4&U?Ga[a]:0),fa=fa?k(d,PulseSaw_8580,(ca^(8388608&ca?16777215:0))>>11,0):0):32&V&&(fa=fa?k(d,PulseSaw_8580,ca>>4,1):0))):32&V?(fa=Da[d]>>8,16&V?fa=k(d,TriSaw_8580,fa>>4,1):($=aa/18874368,fa+=fa*$,65535<fa&&(fa=65535-(fa-65536)/$))):16&V&&(ca=Da[d]^(4&U?Ga[a]:0),fa=(ca^(8388608&ca?16777215:0))>>7),V?Ia[d]=fa:fa=Ia[d],Ea[d]=Da[d],Ga[a]=ba,D[b+23]&xa[d]?ia+=(fa-32768)*(Aa[d]/256):(2!=d%3||!(128&D[b+24]))&&(ja+=(fa-32768)*(Aa[d]/256));return 3&D[1]&&(D[b+27]=fa>>8),D[b+28]=Aa[3],ga=(7&D[b+21])/8+D[b+22]+.2,8580==B?(ga=1-c(ga*Ma),ha=e(2,(4-(D[b+23]>>4))/8)):(ga=24>ga?.035:1-1.263*c(ga*Na),ha=95<D[b+23]?8/(D[b+23]>>4):1.41),ca=ia+La[a]*ha+Ka[a],64&D[b+24]&&(ja-=ca),ca=La[a]-ca*ga,La[a]=ca,32&D[b+24]&&(ja-=ca),ca=Ka[a]+ca*ga,Ka[a]=ca,16&D[b+24]&&(ja+=ca),ja/3145728*(15&D[b+24])}function k(a,b,c,d){return d&&6581==B&&(c&=2047),Q=(b[c]+Ja[a])/2,Ja[a]=b[c],Q}function l(a,b,c,d){for(var f=0;4096>f;f++){a[f]=0;for(var g,h=0;12>h;h++){g=0;for(var l=0;12>l;l++)g+=b/e(c,Math.abs(l-h))*((1&f>>l)-.5);a[f]+=g>=d?e(2,h):0}a[f]*=12}}this.author="Hermit",this.sourcecode="http://hermit.sidrip.com",this.version="0.9.1",this.year="2016",this.loadinit=function(a,b){E=0,i(),w=b;var c=new XMLHttpRequest;c.open("GET",a,!0),c.responseType="arraybuffer",c.onload=function(){var a,b,d=new Uint8Array(c.response),g=d[7];for(s=d[8]+d[9]?256*d[8]+d[9]:d[g]+256*d[g+1],a=0;32>a;a++)r[31-a]=d[18+(a>>3)]&e(2,7-a%8);for(a=0;a<D.length;a++)D[a]=0;for(a=g+2;a<d.byteLength;a++)s+a-(g+2)<D.length&&(D[s+a-(g+2)]=d[a]);for(b=1,a=0;32>a;a++)b=0==b?o[a]=0:o[a]=d[22+a];for(b=1,a=0;32>a;a++)b=0==b?p[a]=0:p[a]=d[54+a];for(b=1,a=0;32>a;a++)b=0==b?q[a]=0:q[a]=d[86+a];t=d[10]+d[11]?256*d[10]+d[11]:s,v=u=256*d[12]+d[13],x=d[15],z[0]=32<=(48&d[119])?8580:6581,z[1]=128<=(192&d[119])?8580:6581,z[2]=3<=(3&d[118])?8580:6581,C[1]=66<=d[122]&&(128>d[122]||224<=d[122])?53248+16*d[122]:0,C[2]=66<=d[123]&&(128>d[123]||224<=d[123])?53248+16*d[123]:0,O=1+(0<C[1])+(0<C[2]),E=1,null!==H&&H(),f(w)},c.send(null)},this.gettitle=function(){return d.apply(null,o)},this.getauthor=function(){return d.apply(null,p)},this.getinfo=function(){return d.apply(null,q)},this.getsubtunes=function(){return x},this.getprefmodel=function(){return z[0]},this.getmodel=function(){return B},this.getoutput=function(){return ja/m*(15&D[54296])},this.getplaytime=function(){return parseInt(playtime)},this.setmodel=function(a){B=a},this.setvolume=function(a){M=a},this.setloadcallback=function(a){H=a},this.setstartcallback=function(a){},this.setendcallback=function(a,b){endcallback=a,y=b};var m=3145728,n=[0,1,.6,.4],o=new Uint8Array(32),p=new Uint8Array(32),q=new Uint8Array(32),r=new Uint8Array(32),s=4096,t=4096,u=4099,v=4099,w=0,x=1,y=0,z=[8580,8580,8580],B=8580,C=[54272,0,0],D=new Uint8Array(65536),E=0,F=0,G=0,H=null;endcallback=null,playtime=0,ended=0;var I,J=985248/b,K=b/50,L=1,M=1,N=0,O=1,P=0;this.playFrame=function a(){if(E&&F&&(L--,playtime+=1/b,0>=L&&(L=K,G=0,ma=v,ra=255),0==G)){for(;N<=J;){if(I=ma,254<=h()){G=1;break}else N+=va;if(1<(3&D[1])&&57344>I&&(59953==ma||60033==ma)){G=1;break}(56325==ta||56324==ta)&&3&D[1]&&r[w]&&(K=(D[56324]+256*D[56325])/J),54304<=wa&&55296>wa&&3&D[1]&&!(C[1]<=wa&&wa<C[1]+31)&&!(C[2]<=wa&&wa<C[2]+31)&&(D[54303&wa]=D[wa]),54276!=ta||1&D[54276]||(ya[0]&=62),54283!=ta||1&D[54283]||(ya[1]&=62),54290!=ta||1&D[54290]||(ya[2]&=62)}N-=J}return 0<y&&parseInt(playtime)==parseInt(y)&&null!==endcallback&&0==ended&&(ended=1,endcallback()),P=j(0,54272),C[1]&&(P+=j(1,C[1])),C[2]&&(P+=j(2,C[2])),P*M*n[O]+(Math.random()*c-c/2)},this.init=f;var Q,R,S,U,V,W,Z,$,_,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka=[1,33,4,36,0,64,8,40],la=[128,64,1,2],ma=0,na=0,oa=0,pa=0,qa=0,ra=255,sa=0,ta=0,ua=0,va=0,wa=0,xa=[1,2,4,1,2,4,1,2,4],ya=[0,0,0,0,0,0,0,0,0],za=[0,0,0,0,0,0,0,0,0],Aa=[0,0,0,0,0,0,0,0,0],Ba=[0,0,0,0,0,0,0,0,0],Ca=[0,0,0,0,0,0,0,0,0],Da=[0,0,0,0,0,0,0,0,0],Ea=[0,0,0,0,0,0,0,0,0],Fa=[0,0,0],Ga=[0,0,0],Ha=[8388600,8388600,8388600,8388600,8388600,8388600,8388600,8388600,8388600],Ia=[0,0,0,0,0,0,0,0,0],Ja=[0,0,0,0,0,0,0,0,0],Ka=[0,0,0],La=[0,0,0],Ma=3.14*-2*(12500/256)/b,Na=3.14*-2*(2e4/256)/b;TriSaw_8580=Array(4096),l(TriSaw_8580,.8,2.4,.64),PulseSaw_8580=Array(4096),l(PulseSaw_8580,1.4,1.9,.68),PulseTriSaw_8580=Array(4096),l(PulseTriSaw_8580,.8,2.5,.64);var Oa=a(J,9),Pa=[Oa,32,63,95,149,220,267,313,392,977,1954,3126,3907,11720,19532,31251],Qa=[Math.ceil(Oa/9),1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],Ra=[1,30,30,30,30,30,30,16,16,16,16,16,16,16,16,8,8,8,8,8,8,8,8,8,8,8,8,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}function c(a,c,d,e){var f=5e-4;d&&d.backgroundNoise&&(f=d.backgroundNoise),e&&e.duration?(this.duration=e.duration,this.frameCount=this.duration*c.sampleRate):(this.duration=60,this.frameCount=null),this.sidPlayer=new b(c.sampleRate,f),this.url=a}c.prototype.load=function(a){var b=this;this.sidPlayer.setloadcallback(function(){b.channelCount=1,b.seekable=!1,a()}),this.sidPlayer.loadinit(this.url,0)},c.prototype.generateAudio=function(b){var d,c=Math.min,e=b.getChannelData(0);if(null===this.frameCount)d=b.length;else{var f=a(0,this.frameCount-this.framesRendered);d=c(b.length,f)}for(var g=0;g<d;g++)e[g]=this.sidPlayer.playFrame();return this.framesRendered+=d,d},c.prototype.reset=function(){this.sidPlayer.init(0),this.framesRendered=0},Cowbell.Player.JSSID=function(a){return new Cowbell.Common.WebAudioPlayer(c,a)}})();